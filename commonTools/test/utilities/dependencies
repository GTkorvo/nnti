################################################################################
#
# dependencies
#
# This file describes what configure flags to insert or remove in order for the
# test harness to recover from a configure or make failure.
#
# Each group can be thought of as reading as follows:
#
# IF CONFIGURE OR MAKE FAILS IN PACKAGE package [SUBDIRECTORY subdir] THEN...
#
################################################################################

# Amesos -----------------------------------------------------------------------
IF PACKAGE amesos THEN
REMOVE --enable-amesos
REMOVE --with-ml_amesos
REMOVE --enable-moertel
DONE

IF PACKAGE amesos SUBDIRECTORY thyra THEN
INSERT --disable-amesos-thyra
DONE

IF PACKAGE amesos SUBDIRECTORY python THEN
INSERT --disable-amesos-python
DONE

# Anasazi ----------------------------------------------------------------------
IF PACKAGE anasazi THEN
REMOVE --enable-anasazi
REMOVE --with-loca-anasazi
DONE

IF PACKAGE anasazi SUBDIRECTORY thyra THEN
INSERT --disable-anasazi-thyra
DONE

IF PACKAGE anasazi SUBDIRECTORY python THEN
INSERT --disable-anasazi-python
DONE

# AztecOO ----------------------------------------------------------------------
IF PACKAGE aztecoo THEN
REMOVE --enable-aztecoo
REMOVE --enable-komplex
REMOVE --enable-ml_aztecoo
REMOVE --enable-nox-epetra
REMOVE --enable-nox-epetra-examples
REMOVE --enable-tsfcore-aztecoo
REMOVE --enable-moertel
DONE

IF PACKAGE aztecoo SUBDIRECTORY thyra THEN
INSERT --disable-aztecoo-thyra
DONE

IF PACKAGE aztecoo SUBDIRECTORY python THEN
INSERT --disable-aztecoo-python
DONE

# Belos ------------------------------------------------------------------------
IF PACKAGE belos THEN
REMOVE --enable-belos
DONE

IF PACKAGE belos SUBDIRECTORY thyra THEN
INSERT --disable-belos-thyra
DONE

# Capo -------------------------------------------------------------------------
IF PACKAGE capo THEN
REMOVE --enable-capo
DONE

# Claps ------------------------------------------------------------------------
IF PACKAGE claps THEN
REMOVE --enable-claps
DONE

# Didasko ----------------------------------------------------------------------
IF PACKAGE didasko THEN
REMOVE --enable-didasko
DONE

# Epetra -----------------------------------------------------------------------
IF PACKAGE epetra THEN
REMOVE --enable-epetra
REMOVE --enable-amesos
REMOVE --enable-anasazi
REMOVE --with-loca-anasazi
REMOVE --enable-aztecoo
REMOVE --enable-belos
REMOVE --enable-claps
REMOVE --enable-epetraext
REMOVE --enable-galeri
REMOVE --enable-ifpack
REMOVE --enable-komplex
REMOVE --enable-meros
REMOVE --enable-ml_epetra
REMOVE --enable-ml_aztecoo
REMOVE --enable-moertel
REMOVE --enable-new_package
REMOVE --enable-nox-epetra
REMOVE --enable-nox-epetra-examples
REMOVE --enable-triutils
REMOVE --enable-tsfcore-aztecoo
REMOVE --enable-tsfcore-epetra
REMOVE --enable-tsfextended 
DONE

IF PACKAGE epetra SUBDIRECTORY thyra THEN
INSERT --disable-epetra-thyra
DONE

IF PACKAGE epetra SUBDIRECTORY python THEN
INSERT --disable-epetra-python
DONE

# EpetraExt --------------------------------------------------------------------
IF PACKAGE epetraext THEN
REMOVE --enable-epetraext
REMOVE --enable-moertel
DONE

# REMOVE --enable-thyra

IF PACKAGE epetraext SUBDIRECTORY thyra THEN
INSERT --disable-epetraext-thyra
DONE

IF PACKAGE epetraext SUBDIRECTORY python THEN
INSERT --disable-epetraext-python
DONE

# Galeri -----------------------------------------------------------------------
IF PACKAGE galeri THEN
REMOVE --enable-galeri
DONE

IF PACKAGE galeri SUBDIRECTORY python THEN
INSERT --disable-galeri-python
DONE

# Ifpack -----------------------------------------------------------------------
IF PACKAGE ifpack THEN
REMOVE --enable-ifpack
REMOVE --enable-nox-epetra
REMOVE --enable-nox-epetra-examples
REMOVE --with-ml_ifpack
DONE

IF PACKAGE ifpack SUBDIRECTORY thyra THEN
INSERT --disable-ifpack-thyra
DONE

IF PACKAGE ifpack SUBDIRECTORY python THEN
INSERT --disable-ifpack-python
DONE

# Isorropia --------------------------------------------------------------------
IF PACKAGE isorropia THEN
REMOVE --enable-isorropia
DONE

# Kokkos -----------------------------------------------------------------------
IF PACKAGE kokkos THEN
REMOVE --enable-kokkos
REMOVE --enable-tpetra
DONE

# Komplex ----------------------------------------------------------------------
IF PACKAGE komplex THEN
REMOVE --enable-komplex
DONE

# Meros ------------------------------------------------------------------------
IF PACKAGE meros THEN
REMOVE --enable-meros
DONE

# ML ---------------------------------------------------------------------------
IF PACKAGE ml THEN
REMOVE --enable-ml
REMOVE --enable-moertel
REMOVE --enable-nox
REMOVE --enable-loca
INSERT --disable-loca
DONE

IF PACKAGE ml SUBDIRECTORY python THEN
INSERT --disable-ml-python
DONE

# Moertel ----------------------------------------------------------------------
IF PACKAGE moertel THEN
REMOVE --enable-moertel
DONE

# MOOCHO -----------------------------------------------------------------------
IF PACKAGE moocho THEN
REMOVE --enable-moocho
DONE

IF PACKAGE moocho SUBDIRECTORY thyra THEN
INSERT --disable-moocho-thyra
DONE

# New_Package ------------------------------------------------------------------
IF PACKAGE new_package THEN
REMOVE --enable-new_package
DONE

IF PACKAGE new_package SUBDIRECTORY python THEN
INSERT --disable-new_package-python
DONE

# NOX --------------------------------------------------------------------------
IF PACKAGE nox THEN
REMOVE --enable-nox
REMOVE --enable-loca
INSERT --disable-loca
REMOVE --enable-ml
DONE

IF PACKAGE nox SUBDIRECTORY python THEN
INSERT --disable-nox-python
DONE

# Pliris -----------------------------------------------------------------------
IF PACKAGE pliris THEN
REMOVE --enable-pliris
DONE

# PyTrilinos -------------------------------------------------------------------
IF PACKAGE pytrilinos THEN
REMOVE --enable-pytrilinos
DONE

# RTOp -------------------------------------------------------------------------
IF PACKAGE rtop THEN
REMOVE --enable-rtop
REMOVE --enable-thyra
REMOVE --enable-stratimikos
REMOVE --enable-moocho
DONE

# Rythmos ----------------------------------------------------------------------
IF PACKAGE rythmos THEN
REMOVE --enable-rythmos
DONE

# Teuchos ----------------------------------------------------------------------
IF PACKAGE teuchos THEN
REMOVE --enable-teuchos
REMOVE --with-ml_teuchos
REMOVE --enable-tpetra
REMOVE --enable-tsfcoreutils
REMOVE --enable-tsfcore
REMOVE --enable-tsfextended
REMOVE --enable-loca
INSERT --disable-loca
REMOVE --enable-belos
REMOVE --enable-amesos
REMOVE --with-ml_amesos
REMOVE --enable-epetraext
REMOVE --enable-moertel
REMOVE --enable-moocho
REMOVE --enable-anasazi
REMOVE --with-loca-anasazi
REMOVE --enable-capo
REMOVE --enable-galeri
REMOVE --enable-rythmos
REMOVE --enable-rtop
REMOVE --enable-thyra
REMOVE --enable-stratimikos
DONE

# Tpetra -----------------------------------------------------------------------
IF PACKAGE tpetra THEN
REMOVE --enable-tpetra
DONE

# Thyra ------------------------------------------------------------------------
IF PACKAGE thyra THEN
REMOVE --enable-thyra
REMOVE --enable-stratimikos
REMOVE --enable-capo
REMOVE --enable-rythmos
DONE

# REMOVE --enable-epetra-thyra

IF PACKAGE thyra SUBDIRECTORY python THEN
INSERT --disable-thyra-python
DONE

# TriUtils ---------------------------------------------------------------------
IF PACKAGE triutils THEN
REMOVE --enable-triutils
REMOVE --enable-aztecoo
REMOVE --enable-komplex
REMOVE --enable-ml_aztecoo
REMOVE --enable-tsfcore-aztecoo
REMOVE --enable-belos
REMOVE --enable-amesos
REMOVE --with-ml_amesos 
REMOVE --enable-moertel
DONE

IF PACKAGE triutils SUBDIRECTORY python THEN
INSERT --disable-triutils-python
DONE

# TSF --------------------------------------------------------------------------
IF PACKAGE tsf THEN
REMOVE --enable-tsf
REMOVE --enable-meros
DONE

# TSFCore ----------------------------------------------------------------------
IF PACKAGE tsfcore THEN
REMOVE --enable-tsfcore
REMOVE --enable-tsfextended
DONE

# TSFCoreUtils -----------------------------------------------------------------
IF PACKAGE tsfcoreutils THEN
REMOVE --enable-tsfcoreutils
REMOVE --enable-tsfcore
REMOVE --enable-tsfextended
DONE

# TSFExtended ------------------------------------------------------------------
IF PACKAGE tsfextended THEN
REMOVE --enable-tsfextended
DONE
