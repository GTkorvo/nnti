
%
% Counters
%
% A different counter is maintained for every section.  The goal is to allow
% items to be added to the end of each section without having the change the
% designation of any other item.  In that way, this document can be modifed
% with items being added without causing the designation of any existing item
% to be changed.  As long as items are not removed, then we can simply refer to
% the precise designation of a counter (i.e. NC 3) without any ambiguity and
% without being long winded.
%

% Naming Convertion (NC) counters
\newcounter{Thyra_NC_counter}

% Naming and organization of source files (NOSF) counters
\newcounter{Thyra_NOSF_counter}

% General coding guidelines (GCG) counters
\newcounter{Thyra_GCG_counter}

% Formating source code principles (FSCP) counters
\newcounter{Thyra_FSCP_counter}

% Formating source code (FSC) counters
\newcounter{Thyra_FSC_counter}

% Doxygen goals (DOXP) counters
\newcounter{Thyra_DOXP_counter}

% Doxygen guildlines (DOX) counters
\newcounter{Thyra_DOX_counter}


%
% NC
%

{}\newcommand{\NCClassNames}{\stepcounter{Thyra_NC_counter}\textbf{NC
{}\arabic{Thyra_NC_counter}}: {}\textit{Capitalize C++ class and struct names as
{}\texttt{SomeClass}}}

{}\newcommand{\NCNamespaceNames}{\stepcounter{Thyra_NC_counter}\textbf{NC
{}\arabic{Thyra_NC_counter}}: {}\textit{Capitalize C++ namespace names as
{}\texttt{MyNameSpace}}}

{}\newcommand{\NCEnumNames}{\stepcounter{Thyra_NC_counter}\textbf{NC
{}\arabic{Thyra_NC_counter}}: {}\textit{C++ enum type names should
begin with {}\texttt{E} as {}\texttt{EMyEnum} and enum values should
use all caps and scope context as {}\texttt{MY\_ENUM\_VALUE}}}

{}\newcommand{\NCObjectNames}{\stepcounter{Thyra_NC_counter}\textbf{NC
{}\arabic{Thyra_NC_counter}}: {}\textit{C++ object instance identifier names
should begin with a lower-case letter as {}\texttt{objectName}}}

{}\newcommand{\NCDataMemberNames}{\stepcounter{Thyra_NC_counter}\textbf{NC
{}\arabic{Thyra_NC_counter}}: {}\textit{C++ class/struct data member names
should begin with a lower-case letter and end with an underscore as
{}\texttt{someDataMember\_}}}

{}\newcommand{\NCFunctionNames}{\stepcounter{Thyra_NC_counter}\textbf{NC
{}\arabic{Thyra_NC_counter}}: {}\textit{C++ function names should begin with a
lower-case letter as {}\texttt{someFunction(...)}}}

{}\newcommand{\NCBaseDefaultClassNames}{\stepcounter{Thyra_NC_counter}\textbf{NC
{}\arabic{Thyra_NC_counter}}: {}\textit{Name C++ pure abstract base classes
{}\texttt{BlobBase}, default implementation bases {}\texttt{BlobDefaultBase},
and default concrete implementation classes {}\texttt{DefaultTypeABlob}}}

{}\newcommand{\NCConstNonconstAccessFunctionName}{\stepcounter{Thyra_NC_counter}\textbf{NC
{}\arabic{Thyra_NC_counter}}: {}\textit{Prefer to name const and
non-const access functions as {}\texttt{getPart()} and
{}\texttt{getNonconstPart()}, respectively}}


%
% NOSF
%

{}\newcommand{\NOSFFileExtension}{\stepcounter{Thyra_NOSF_counter}\textbf{NOSF
{}\arabic{Thyra_NOSF_counter}}: {}\textit{Use file extension names
{}\texttt{*.hpp} (C++ header), {}\texttt{*.cpp} (C++ source), {}\texttt{*.h}
(C header), and {}\texttt{*.c} (C source)}}

{}\newcommand{\NOSFClassFiles}{\stepcounter{Thyra_NOSF_counter}\textbf{NOSF
{}\arabic{Thyra_NOSF_counter}}: {} {}\textit{Only one major C++ class with
supporting code per header and source file with name(s)
{}\texttt{NameSpaceA\-\_InnerNamespace\-\_SomeClass.[hpp,cpp]}}}

{}\newcommand{\NOSFIncludeGuards}{\stepcounter{Thyra_NOSF_counter}\textbf{NOSF
{}\arabic{Thyra_NOSF_counter}}: {} {}\textit{Use internal include guards in all
header files}}

{}\newcommand{\NOSFTemplateFiles}{\stepcounter{Thyra_NOSF_counter}\textbf{NOSF
{}\arabic{Thyra_NOSF_counter}}: {} {}\textit{Partition template code into
different files to allow for both implicit and explicit instantiation ???}}


%
% GCG
%

% Error Handling

{}\newcommand{\GCGTestForException}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{Use
{}\texttt{TEST\-\_FOR\-\_EXCEPTION(...)}, {}\texttt{TEUCHOS\-\_ASSERT(...)} 
and related macros for reporting all errors, even developer programming
errors}}

% Memory Management

{}\newcommand{\GCGAvoidRawPointers}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{Avoid the use of raw C++ pointers in
all but the lowest-level code}}

{}\newcommand{\GCGUseStdString}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{Prefer to use
{}\texttt{std\-::string} instead of {}\texttt{char*} or {}\texttt{const
char*}}}

{}\newcommand{\GCGTeuchosPtr}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{Use {}\texttt{Teuchos::Ptr} as function
arguments in the place of raw C++ pointers to single objects where no
persisting association exists}}

{}\newcommand{\GCGTeuchosRCP}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{Use {}\texttt{Teuchos::RCP} for
memory management of single dynamically allocated objects and for handling
persisting {}\cite{RefCountPtrBeginnersGuide} associations}}

{}\newcommand{\GCGTeuchosArrayView}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{Use {}\texttt{Teuchos::ArrayView} as
function arguments in the place of pointers into raw arrays or other container
classes where no persisting association exists and the array does not need to
be resized}}

{}\newcommand{\GCGTeuchosArray}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{Prefer {}\texttt{Teuchos::Array} to
{}\texttt{std::vector} as a contiguous general purpose data container}}

{}\newcommand{\GCGTeuchosArrayRCP}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{Use {}\texttt{Teuchos::ArrayRCP} for
memory management of dynamically allocated objects stored in contiguous arrays
of data and for persisting associations involving contiguous arrays}}

{}\newcommand{\GCGPostponeRawPointers}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{When raw C++ pointers must be exposed
(i.e., due to interfacing with non-compliant code), minimize the amount of
code exposed to the raw pointer}}

% Object Control

{}\newcommand{\GCGTeuchosParamterListAcceptor}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{Accept user options at runtime through
a {}\texttt{Teuchos\-::Parameter\-List} object by deriving from the
{}\texttt{Teuchos\-::Parameter\-List\-Acceptor} interface}}

{}\newcommand{\GCGTeuchosParamterListValidation}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{Fully validate all parameters
and sublists in accepted {}\texttt{Teuchos\-::Parameter\-List} objects
using {}\texttt{validatePamaters(...)} and other means}}

% Object Introspection

{}\newcommand{\GCGStdStream}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{Always send output to some
{}\texttt{std\-::ostream} object; Never send output directly to
{}\texttt{std\-::cout} or {}\texttt{std\-::cerr}}}

{}\newcommand{\GCGTeuchosFancyOStream}{\textit{Prefer to print output
through a {}\texttt{Teuchos\-::Fancy\-OStream} object instead of through a
bare {}\texttt{std\-::ostream} object to more easily produce formatted
output}}

{}\newcommand{\GCGTeuchosDescribable}{\textit{Derive from
{}\texttt{Teuchos\-::Describable} and implement the functions
{}\texttt{description()} and {}\texttt{describe()} to allow clients to print
the current state of an object}}

{}\newcommand{\GCGTeuchosVerboseObject}{\textit{Derive from
{}\texttt{Teuchos\-::Verbose\-Object} and print to
{}\texttt{*this->getOStream()} to give information about what an object is
doing}}

{}\newcommand{\GCGTeuchosVerboseObjectBaseDefaultOStream}{\textit{As a
last resort, always prefer printing to
{}\texttt{*Teuchos\-::Verbose\-Object\-Base\-::get\-Default\-OStream()}
instead of {}\texttt{std\-::cout} or {}\texttt{std\-::cerr}}}


% Miscellaneous coding guidelines


{}\newcommand{\GCGExplicitTemplateArguments}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{Prefer to explicitly define
template arguments in a template function call to avoid protability
problems and enable implicit covnersions of input arguments}}

{}\newcommand{\GCGTeuchosAs}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{Use the template function
{}\texttt{Teuchos::as<T\_to>(T\_from)} for all conversion of data types that
may result in loss of precision or in an incorrect conversion}}

{}\newcommand{\GCGNamespaceClassFuncDefs}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{Use namespace enclosure for the
definition of member functions of a C++ class}}

{}\newcommand{\GCGNamespaceFuncDefs}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{Use explicit namespace qualification
for the definition of all nonmember C++ functions}}

{}\newcommand{\GCGFuncArgsOrder}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{For general functions, prefer
to list function arguments in the order of input, input/output,
output, and finally optional arguments with default values}}

{}\newcommand{\GCGNomemberObjectFuncs}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{For non-member object functions, list
the object as the first argument passed in a const reference or non-const
reference}}

{}\newcommand{\GCGEnumFuncArgs}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{Prefer {}\texttt{enum}s to
{}\texttt{bool}s as formal function arguments when conversion mistakes are
likely}}

{}\newcommand{\GCGOverloadedVirtualFunctions}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{Avoid overloading virtual functions}}

{}\newcommand{\GCGAvoidSmartPtrFuncOverloads}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{Avoid overloading functions on different
smart pointer types (e.g., {}\texttt{RCP}, {}\texttt{Ptr}, etc.)}}

{}\newcommand{\GCGStandardCppHeaders}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{Include only standard C++ headers
{}\texttt{<cX>}, not standard C headers {}\texttt{<X.h>}, and avoid all
{}\texttt{using namespace std} directives}}

{}\newcommand{\GCGTemplateHeaders}{\stepcounter{Thyra_GCG_counter}\textbf{GCG
{}\arabic{Thyra_GCG_counter}}: {}\textit{Break up templated code into
four files {}\texttt{SomeClass\_decl.hpp},
{}\texttt{SomeClass\_def.hpp}, {}\texttt{SomeClass.hpp}, and
{}\texttt{SomeClass.cpp} to support explicit instantiation, minimize
recompilation, and avoid problems in mutually dependent
(i.e. circular) code}}


%
% FSCP
%

{}\newcommand{\FSCPShowLogicalStructure}{\stepcounter{Thyra_FSCP_counter}\textbf{FSCP
{}\arabic{Thyra_FSCP_counter}}: {}\textit{Formatting should accurately and
consistently show the logical structure of the code}}

{}\newcommand{\FSCPImproveReadability}{\stepcounter{Thyra_FSCP_counter}\textbf{FSCP
{}\arabic{Thyra_FSCP_counter}}: {}\textit{Formatting should improve the
readability of the code for most people}}

{}\newcommand{\FSCPRetainFormatting}{\stepcounter{Thyra_FSCP_counter}\textbf{FSCP
{}\arabic{Thyra_FSCP_counter}}: {}\textit{Formatted code should retain its
formatting well when modified; especially for those modifications performed by
automated tools}}

{}\newcommand{\FSCPFollowCommonIdioms}{\stepcounter{Thyra_FSCP_counter}\textbf{FSCP
{}\arabic{Thyra_FSCP_counter}}: {}\textit{Formatting style should follow the
most common idiom unless one of the above principles are violated}}


%
% FSC
%

{}\newcommand{\FSCConsistentInFile}{\stepcounter{Thyra_FSC_counter}\textbf{FSC
{}\arabic{Thyra_FSC_counter}}: {}\textit{The formatting style in any single file
or group of closely related files should be the same}}

{}\newcommand{\FSCEightyCharWide}{\stepcounter{Thyra_FSC_counter}\textbf{FSC
{}\arabic{Thyra_FSC_counter}}: {}\textit{Try to keep all text within the first
80 character columns}}

{}\newcommand{\FSCIndentSpaces}{\stepcounter{Thyra_FSC_counter}\textbf{FSC
{}\arabic{Thyra_FSC_counter}}: {}\textit{Indent with spaces and not tabs}}

{}\newcommand{\FSCTwoVertialSpaces}{\stepcounter{Thyra_FSC_counter}\textbf{FSC
{}\arabic{Thyra_FSC_counter}}: {}\textit{Use two vertical spaces to separate
class declarations, function definitions, namespace enclosure bounds, and other
such major entries in a file}}

{}\newcommand{\FSCNoNamespaceIndent}{\stepcounter{Thyra_FSC_counter}\textbf{FSC
{}\arabic{Thyra_FSC_counter}}: {}\textit{Do not indent source code inside of
namespace enclosures, instead use commented end braces}}

{}\newcommand{\FSCClassDeclarationLayout}{\stepcounter{Thyra_FSC_counter}\textbf{FSC
{}\arabic{Thyra_FSC_counter}}: {}\textit{C++ class declarations should generally
be laid out with {}\texttt{public} members coming before {}\texttt{protected}
members coming before {}\texttt{private} members and indented as shown in
Figure {}\ref{fig:class_decl_layout}}}

{}\newcommand{\FSCFunctionProtypes}{\stepcounter{Thyra_FSC_counter}\textbf{FSC
{}\arabic{Thyra_FSC_counter}}: {}\textit{List short function prototypes on one
line and longer prototypes on multiple lines, indenting arguments one unit}}

{}\newcommand{\FSCShortFunctionPrototypesOneLine}{\textit{List short function
prototypes on one line if possible}}

{}\newcommand{\FSCLongFunctionPrototypesIndent}{\textit{For longer prototypes,
indent arguments on continuation lines one unit}}

{}\newcommand{\FSCFunctionReturn}{\textit{Return types can be listed on same
line as the function name unless the line is too long}}

{}\newcommand{\FSCOrderFunctionDefinitions}{\stepcounter{Thyra_FSC_counter}\textbf{FSC
{}\arabic{Thyra_FSC_counter}}: {}\textit{Order the definitions of C++ entities
the same as the order of the declarations of those entities}}

{}\newcommand{\FSCBracePlacement}{\stepcounter{Thyra_FSC_counter}\textbf{FSC
{}\arabic{Thyra_FSC_counter}}: {}\textit{Use ``modified K\&R'' or ``ANSI''
style for the placement of braces and indentation of control structures}}


%
% DOXP
%

{}\newcommand{\DOXPVariableLevelOfDetail}{\stepcounter{Thyra_DOXP_counter}\textbf{DOXP
\arabic{Thyra_DOXP_counter}}: {}\textit{Level of documentation should vary
depending on the prominence and/or the role of the software entity or
collection}}

{}\newcommand{\DOXPFullyDocumentInterfaces}{\stepcounter{Thyra_DOXP_counter}\textbf{DOXP
\arabic{Thyra_DOXP_counter}}: {}\textit{Important abstract interfaces must be
fully specified independent of any single concrete implementation}}

{}\newcommand{\DOXPFullyDocumentUserIntefaces}{\stepcounter{Thyra_DOXP_counter}\textbf{DOXP
\arabic{Thyra_DOXP_counter}}: {}\textit{Behavior of "user level" interfaces
must be completely specified by the Doxygen documentation and/or higher-level
documentation}}

{}\newcommand{\DOXPWrongDocumentationBad}{\stepcounter{Thyra_DOXP_counter}\textbf{DOXP
\arabic{Thyra_DOXP_counter}}: {}\textit{Wrong documentation is (almost) worse
than no documentation at all}}

{}\newcommand{\DOXPDoNotRepeat}{\stepcounter{Thyra_DOXP_counter}\textbf{DOXP
\arabic{Thyra_DOXP_counter}}: {}\textit{The same documentation should not be
repeated in more than one place if possible}}

{}\newcommand{\DOXPDocumentationMaintainItself}{\stepcounter{Thyra_DOXP_counter}\textbf{DOXP
\arabic{Thyra_DOXP_counter}}: {}\textit{The documentation should maintain
itself as much as possible and be testable as much as possible}}


%
% DOX
%

{}\newcommand{\DOXWriteInHeaders}{\stepcounter{Thyra_DOX_counter}\textbf{DOX
\arabic{Thyra_DOX_counter}}: {}\textit{Write Doxygen documentation directly in
header files with documented entities}}

{}\newcommand{\DOXUseCentralizedDefintions}{\stepcounter{Thyra_DOX_counter}\textbf{DOX
\arabic{Thyra_DOX_counter}}: {}\textit{Use a centralized set of definitions
for common arguments when possible}}

{}\newcommand{\DOXUseCentralizedPrePostConditions}{\stepcounter{Thyra_DOX_counter}\textbf{DOX
\arabic{Thyra_DOX_counter}}: {}\textit{Provide typical
preconditions/post-conditions along with the documentation for common arguments
when possible}}

{}\newcommand{\DOXAddBrief}{\stepcounter{Thyra_DOX_counter}\textbf{DOX
\arabic{Thyra_DOX_counter}}: {}\textit{Add a {}\texttt{$\backslash$brief}
description for every entity that should be seen by the user}}

{}\newcommand{\DOXAllOrNoneParam}{\stepcounter{Thyra_DOX_counter}\textbf{DOX
\arabic{Thyra_DOX_counter}}: {}\textit{Add a {}\texttt{$\backslash$param}
field for all of the arguments or none of the the arguments in a function; do
not define partial {}\texttt{$\backslash$param} field lists}}

{}\newcommand{\DOXReturnsOnlyIfNeeded}{\stepcounter{Thyra_DOX_counter}\textbf{DOX
\arabic{Thyra_DOX_counter}}: {}\textit{Only add a
{}\texttt{$\backslash$returns} field if necessary}}

{}\newcommand{\DOXPreferPostconditionsInParam}{\stepcounter{Thyra_DOX_counter}\textbf{DOX
\arabic{Thyra_DOX_counter}}: {}\textit{Prefer specifying post-conditions for
output arguments in their {}\texttt{$\backslash$param} field; otherwise
specify their post-conditions in the 'Post-conditions' list}}

{}\newcommand{\DOXOrderOfDocFieds}{\stepcounter{Thyra_DOX_counter}\textbf{DOX
\arabic{Thyra_DOX_counter}}: {}\textit{Order the documentation fields in
function documentation as {}\texttt{$\backslash$brief},
{}\texttt{$\backslash$param}, Preconditions, Post-conditions, then
{}\texttt{$\backslash$returns}; omitting those that do not apply}}

{}\newcommand{\DOXUseRelatesForNonmemberFunctions}{\stepcounter{Thyra_DOX_counter}\textbf{DOX
\arabic{Thyra_DOX_counter}}: {}\textit{If possible, try to use
{}\texttt{$\backslash$relates} to associate nonmember functions with a single
class}}

{}\newcommand{\DOXDocumentInitialVirtualOnly}{\stepcounter{Thyra_DOX_counter}\textbf{DOX
\arabic{Thyra_DOX_counter}}: {}\textit{Provide detailed documentation for only
the initial declaration of a virtual function}}

{}\newcommand{\DOXAggregateOverrides}{\stepcounter{Thyra_DOX_counter}\textbf{DOX
\arabic{Thyra_DOX_counter}}: {}\textit{Aggregate the overrides of virtual
functions into groups according their base class}}

{}\newcommand{\DOXAutogenerateExampleCode}{\stepcounter{Thyra_DOX_counter}\textbf{DOX
\arabic{Thyra_DOX_counter}}: {}\textit{Example source code used in
Doxygen-generated and other forms of documentation should be extracted
automatically from code that is compiled and tested nightly}}

{}\newcommand{\DOXAutogenerateSampleOutput}{\stepcounter{Thyra_DOX_counter}\textbf{DOX
\arabic{Thyra_DOX_counter}}: {}\textit{Sample output should be generated
automatically from compiled and tested code}}
