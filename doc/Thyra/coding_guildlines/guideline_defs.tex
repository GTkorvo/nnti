
%
% Counters
%
% A different counter is maintained for every section.  The goal is to
% allow items to be added to the end of each section without having the
% change the designation of any other item.  In that way, this document
% can be modifed with items being added without causing the designation
% of any existing item to be changed.  As long as items are not removed,
% then we can simply refer to the precise designation of a counter
% (i.e. NC 3) without any ambiguity and without being long winded.
%

% Naming Convertion (NC) counters
\newcounter{Thyra_NC_counter}

% Naming and organization of source files (NOSF) counters
\newcounter{Thyra_NOSF_counter}

% General coding guidelines (GCG) counters
\newcounter{Thyra_GCG_counter}

% Formating source code principles (FSCP) counters
\newcounter{Thyra_FSCP_counter}

% Formating source code (FSC) counters
\newcounter{Thyra_FSC_counter}

% Doxygen goals (DOXP) counters
\newcounter{Thyra_DOXP_counter}

% Doxygen guildlines (DOX) counters
\newcounter{Thyra_DOX_counter}


%
% NC
%

\newcommand{\NCClassNames}{\stepcounter{Thyra_NC_counter}
\textbf{NC~\arabic{Thyra_NC_counter}}:
{}\textit{Capitalize C++ class and struct names as {}\ttt{SomeClass}}}

\newcommand{\NCNamespaceNames}{\stepcounter{Thyra_NC_counter}
\textbf{NC~\arabic{Thyra_NC_counter}}:
{}\textit{Capitalize C++ namespace names as {}\ttt{SomeNameSpace}}}

\newcommand{\NCEnumNames}{\stepcounter{Thyra_NC_counter}
\textbf{NC~\arabic{Thyra_NC_counter}}:
{}\textit{C++ enum type names should begin with {}\ttt{E} as
{}\ttt{ESomeEnum} and enum values should use all caps and scope
context as {}\ttt{SOME\_ENUM\_VALUE}}}

\newcommand{\NCObjectNames}{\stepcounter{Thyra_NC_counter}
\textbf{NC~\arabic{Thyra_NC_counter}}:
{}\textit{C++ object instance identifier names should begin with a
lower-case letter as {}\ttt{someObject}}}

\newcommand{\NCDataMemberNames}{\stepcounter{Thyra_NC_counter}
\textbf{NC~\arabic{Thyra_NC_counter}}:
{}\textit{C++ class data member names should begin with a lower-case
letter and end with an underscore as {}\ttt{someDataMember\_}}}

\newcommand{\NCFunctionNames}{\stepcounter{Thyra_NC_counter}
\textbf{NC~\arabic{Thyra_NC_counter}}:
{}\textit{C++ function names should begin with a lower-case letter as
{}\ttt{someFunction(...)}}}

\newcommand{\NCBaseDefaultClassNames}{\stepcounter{Thyra_NC_counter}
\textbf{NC~\arabic{Thyra_NC_counter}}:
{}\textit{Name C++ pure abstract base classes {}\ttt{BlobBase},
default implementation base classes {}\ttt{BlobDefaultBase}, and
default concrete implementation classes {}\ttt{DefaultTypeABlob}}}

\newcommand{\NCConstNonconstAccessFunctionName}{
\stepcounter{Thyra_NC_counter}\textbf{NC~\arabic{Thyra_NC_counter}}:
{}\textit{Prefer to name const and non-const access functions as
{}\ttt{getPart()} and {}\ttt{getNonconstPart()}, respectively}}


%
% NOSF
%

\newcommand{\NOSFFileExtension}{\stepcounter{Thyra_NOSF_counter}
\textbf{NOSF~\arabic{Thyra_NOSF_counter}}:
{}\textit{Use file extension names {}\ttt{*.hpp} (C++ header),
{}\ttt{*.cpp} (C++ source), {}\ttt{*.h} (C header), and {}\ttt{*.c} (C
source)}}

\newcommand{\NOSFClassFiles}{\stepcounter{Thyra_NOSF_counter}
\textbf{NOSF~\arabic{Thyra_NOSF_counter}}:
{}\textit{Include only one major C++ class with supporting code per
header and source file with name(s)
{}\ttt{NameSpaceA\-\_InnerNamespace\-\_SomeClass.[hpp,cpp]}}}

\newcommand{\NOSFIncludeGuards}{\stepcounter{Thyra_NOSF_counter}
\textbf{NOSF~\arabic{Thyra_NOSF_counter}}:
{}\textit{Use internal include guards in all header files}}


%
% GCG
%

% Error Handling

\newcommand{\GCGTestForException}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Use {}\ttt{TEST\-\_FOR\-\_EXCEPTION(...)},
{}\ttt{TEUCHOS\-\_ASSERT(...)} and related macros for reporting all
errors, even developer programming errors}}

% Memory Management

\newcommand{\GCGAvoidRawPointers}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Avoid the use of raw C++ pointers in all but the very
specialized siturations}}

\newcommand{\GCGUseStdString}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Use {}\ttt{std\-::string} instead of {}\ttt{char*} or
{}\ttt{const char*}}}

\newcommand{\GCGTeuchosPtr}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Use {}\ttt{Teuchos::Ptr} as function arguments and return
types in the place of raw C++ pointers to single objects for
non-persisting and semi-persisting associations}}

\newcommand{\GCGTeuchosRCP}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Use {}\ttt{Teuchos::RCP} for memory management of single
dynamically allocated objects and for handling persisting
associations}}

\newcommand{\GCGNonmemberConstructors}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Use non-member constructors for all reference-type classes
to force dynamic allocation returning strong owning
{}\ttt{Teuchos::RCP} objects}}

\newcommand{\GCGGeneralizedViews}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Specify ``generalized view'' semantics for all views of
abstract objects}}

\newcommand{\GCGTeuchosArrayView}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Use {}\ttt{Teuchos::ArrayView} as function arguments and
return types in the place of pointers into raw arrays or other
container classes for non-persisting and semi-persisting associations
and where the array does not need to be resized}}

\newcommand{\GCGTeuchosArray}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Use {}\ttt{Teuchos::Array} in place of {}\ttt{std::vector}
as a contiguous general purpose data container}}

\newcommand{\GCGTeuchosArrayRCP}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Use {}\ttt{Teuchos::ArrayRCP} for memory management of
dynamically allocated objects stored in contiguous arrays of data and
for persisting associations involving contiguous arrays}}

\newcommand{\GCGReturnSmartPointersByValue}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Always return {}\ttt{Ptr}, {}\ttt{RCP}, {}\ttt{ArrayView},
and {}\ttt{ArrayRCP} smart pointer objects by value, never by
reference}}

\newcommand{\GCGRawReferencesNonPersisting}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Only return a raw C++ reference from a function for
non-persisting associaitons and use the reference and discard it in
the same same statement}}

\newcommand{\GCGSemiPersisting}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Return only {}\ttt{Ptr} and {}\ttt{ArrayView} objects by
value to establish semi-persisting associations; never use a raw C++
reference for a semi-persisting association}}

\newcommand{\GCGPostponeRawPointers}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{When raw C++ pointers must be exposed (i.e., due to
interfacing with non-compliant code), minimize the amount of code
exposed to the raw pointer}}

% Object Control

\newcommand{\GCGTeuchosParamterListAcceptor}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Accept user options at runtime through
a{}\ttt{Teuchos\-::Parameter\-List} object by deriving from the
{}\ttt{Teuchos\-::Parameter\-List\-Acceptor} interface}}

\newcommand{\GCGTeuchosParamterListValidation}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Fully validate all parameters and sublists in accepted
{}\ttt{Teuchos\-::Parameter\-List} objects using
{}\ttt{validatePamaters(...)} and other means}}

% Object Introspection

\newcommand{\GCGStdStream}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Always send output to some general {}\ttt{std\-::ostream}
object; Never send output directly to {}\ttt{std\-::cout} or
{}\ttt{std\-::cerr}; Never print output with {}\ttt{print(...)} or
{}\ttt{printf(...)}}}

\newcommand{\GCGTeuchosFancyOStream}{
{}\textit{Prefer to print output through a
{}\ttt{Teuchos\-::Fancy\-OStream} object instead of through a bare
{}\ttt{std\-::ostream} object to more easily produce indented
formatted output}}

\newcommand{\GCGTeuchosDescribable}{
{}\textit{Derive from {}\ttt{Teuchos\-::Describable} and implement the
functions {}\ttt{description()} and {}\ttt{describe()} to allow
clients to print the current state of an object}}

\newcommand{\GCGTeuchosVerboseObject}{
{}\textit{Derive from {}\ttt{Teuchos\-::Verbose\-Object} and print to
{}\ttt{*this->getOStream()} to give information about what an object
is doing}}

\newcommand{\GCGTeuchosVerboseObjectBaseDefaultOStream}{
{}\textit{As a last resort, always prefer printing to
{}\ttt{*Teuchos\-::Verbose\-Object\-Base\-::get\-Default\-OStream()}
instead of {}\ttt{std\-::cout} or {}\ttt{std\-::cerr}}}

% Miscellaneous coding guidelines

\newcommand{\GCGExplicitTemplateArguments}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Prefer to explicitly specify template arguments in a
template function call to avoid protability problems and enable
implicit covnersions of input arguments}}

\newcommand{\GCGTeuchosAs}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Use the template function
{}\ttt{Teuchos::as<T\_to>(T\_from)} for all conversion of value data
types that may result in loss of precision or in an incorrect
conversion}}

\newcommand{\GCGNamespaceClassFuncDefs}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Use namespace enclosure for the definition of C++ class
members}}

\newcommand{\GCGNamespaceFuncDefs}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Use explicit namespace qualification for the definition of
all nonmember C++ functions}}

\newcommand{\GCGFuncArgsOrder}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{For general functions, prefer to list function arguments in
the order of input, input/output, output, and finally optional
arguments with default values}}

\newcommand{\GCGNomemberObjectFuncs}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{For non-member object functions, list the object as the
first argument passed in as a const reference or non-const reference}}

\newcommand{\GCGEnumFuncArgs}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Prefer {}\ttt{enum}s to {}\ttt{bool}s as formal function
arguments when conversion mistakes are likely}}

\newcommand{\GCGOverloadedVirtualFunctions}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Avoid overloading virtual functions}}

\newcommand{\GCGAvoidSmartPtrFuncOverloads}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Avoid overloading functions on different smart pointer types
(e.g., {}\ttt{RCP}, {}\ttt{Ptr}, etc.)}}

\newcommand{\GCGStandardCppHeaders}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Include only standard C++ headers {}\ttt{<cX>}, not standard
C headers {}\ttt{<X.h>}, and avoid all {}\ttt{using namespace std}
directives}}

\newcommand{\GCGTemplateHeaders}{\stepcounter{Thyra_GCG_counter}
\textbf{GCG~\arabic{Thyra_GCG_counter}}:
{}\textit{Break up templated code into four files
{}\ttt{SomeClass\_decl.hpp}, {}\ttt{SomeClass\_def.hpp},
{}\ttt{SomeClass.hpp}, and {}\ttt{SomeClass.cpp} to support both
implicit and explicit instantiation, minimize recompilation, and avoid
problems in mutually dependent (i.e. circular) declarations}}


%
% FSCP
%

\newcommand{\FSCPShowLogicalStructure}{\stepcounter{Thyra_FSCP_counter}
\textbf{FSCP~\arabic{Thyra_FSCP_counter}}:
{}\textit{Formatting should accurately and consistently show the
logical structure of the code}}

\newcommand{\FSCPImproveReadability}{\stepcounter{Thyra_FSCP_counter}
\textbf{FSCP~\arabic{Thyra_FSCP_counter}}:
{}\textit{Formatting should improve the readability of the code for
most people}}

\newcommand{\FSCPRetainFormatting}{\stepcounter{Thyra_FSCP_counter}
\textbf{FSCP~\arabic{Thyra_FSCP_counter}}:
{}\textit{Formatted code should retain its formatting well when
modified; especially for those modifications performed by automated
tools}}

\newcommand{\FSCPFollowCommonIdioms}{\stepcounter{Thyra_FSCP_counter}
\textbf{FSCP~\arabic{Thyra_FSCP_counter}}:
{}\textit{Formatting style should follow the most common idiom unless
one of the above principles are violated}}


%
% FSC
%

\newcommand{\FSCConsistentInFile}{\stepcounter{Thyra_FSC_counter}
\textbf{FSC~\arabic{Thyra_FSC_counter}}:
{}\textit{The formatting style in any single file or group of closely
related files should be the same}}

\newcommand{\FSCEightyCharWide}{\stepcounter{Thyra_FSC_counter}
\textbf{FSC~\arabic{Thyra_FSC_counter}}:
{}\textit{Try to keep all text within the first 80 character columns}}

\newcommand{\FSCIndentSpaces}{\stepcounter{Thyra_FSC_counter}
\textbf{FSC~\arabic{Thyra_FSC_counter}}:
{}\textit{Indent with spaces and not tabs (two spaces by default)}}

\newcommand{\FSCTwoVertialSpaces}{\stepcounter{Thyra_FSC_counter}
\textbf{FSC~\arabic{Thyra_FSC_counter}}:
{}\textit{Use two vertical spaces to separate class declarations,
function definitions, namespace enclosure bounds, and other such major
entries in a file}}

\newcommand{\FSCNoNamespaceIndent}{\stepcounter{Thyra_FSC_counter}
\textbf{FSC~\arabic{Thyra_FSC_counter}}:
{}\textit{Do not indent source code inside of namespace enclosures,
instead use commented end braces}}

\newcommand{\FSCClassDeclarationLayout}{\stepcounter{Thyra_FSC_counter}
\textbf{FSC~\arabic{Thyra_FSC_counter}}:
{}\textit{C++ class declarations should generally be laid out with
{}\ttt{public} members coming before {}\ttt{protected} members coming
before {}\ttt{private} members and indented as shown in Figure
{}\ref{fig:class_decl_layout}}}

\newcommand{\FSCFunctionProtypes}{\stepcounter{Thyra_FSC_counter}
\textbf{FSC~\arabic{Thyra_FSC_counter}}:
{}\textit{List short function prototypes on one line and longer
prototypes on multiple lines, indenting arguments one unit}}

\newcommand{\FSCShortFunctionPrototypesOneLine}{
{}\textit{List short function prototypes on one line if possible}}

\newcommand{\FSCLongFunctionPrototypesIndent}{
{}\textit{For longer prototypes, indent arguments on continuation
lines one unit}}

\newcommand{\FSCFunctionReturn}{
{}\textit{Return types can be listed on same line as the function name
unless the line is too long}}

\newcommand{\FSCOrderFunctionDefinitions}{\stepcounter{Thyra_FSC_counter}
\textbf{FSC~\arabic{Thyra_FSC_counter}}:
{}\textit{Order the definitions of C++ entities
the same as the order of the declarations of those entities}}

\newcommand{\FSCBracePlacement}{\stepcounter{Thyra_FSC_counter}
\textbf{FSC~\arabic{Thyra_FSC_counter}}:
{}\textit{Use ``modified K\&R'' or ``ANSI''
style for the placement of braces and indentation of control structures}}


%
% DOXP
%

\newcommand{\DOXPVariableLevelOfDetail}{\stepcounter{Thyra_DOXP_counter}
\textbf{DOXP~\arabic{Thyra_DOXP_counter}}:
{}\textit{The level of documentation should vary depending on the
prominence and/or the role of the software entity or collection}}

\newcommand{\DOXPFullyDocumentInterfaces}{\stepcounter{Thyra_DOXP_counter}
\textbf{DOXP~\arabic{Thyra_DOXP_counter}}:
{}\textit{Important abstract interfaces must be fully specified
independent of any single concrete implementation (i.e. preconditions,
postconditions, invariants, etc.)}}

\newcommand{\DOXPFullyDocumentUserIntefaces}{\stepcounter{Thyra_DOXP_counter}
\textbf{DOXP~\arabic{Thyra_DOXP_counter}}:
{}\textit{Behavior of "user level" interfaces must be completely
specified by the Doxygen documentation and/or other higher-level
documentation (i.e. preconditions, postconditions, invariants, etc.)}}

\newcommand{\DOXPWrongDocumentationBad}{\stepcounter{Thyra_DOXP_counter}
\textbf{DOXP~\arabic{Thyra_DOXP_counter}}:
{}\textit{Wrong documentation is (almost) worse than no documentation
at all}}

\newcommand{\DOXPDoNotRepeat}{\stepcounter{Thyra_DOXP_counter}
\textbf{DOXP~\arabic{Thyra_DOXP_counter}}:
{}\textit{The same documentation should not be repeated in more than
one place if possible}}

\newcommand{\DOXPDocumentationMaintainItself}{\stepcounter{Thyra_DOXP_counter}
\textbf{DOXP~\arabic{Thyra_DOXP_counter}}:
{}\textit{The documentation should maintain itself as much as possible
and be testable as much as possible}}


%
% DOX
%

\newcommand{\DOXWriteInHeaders}{\stepcounter{Thyra_DOX_counter}
\textbf{DOX~\arabic{Thyra_DOX_counter}}:
{}\textit{Write Doxygen documentation directly in header files with
documented entities}}

\newcommand{\DOXUseCentralizedDefintions}{\stepcounter{Thyra_DOX_counter}
\textbf{DOX~\arabic{Thyra_DOX_counter}}:
{}\textit{Use a centralized set of definitions for common arguments
whenever possible}}

\newcommand{\DOXUseCentralizedPrePostConditions}{
\stepcounter{Thyra_DOX_counter}
\textbf{DOX~\arabic{Thyra_DOX_counter}}:
{}\textit{Provide typical pre- and postconditions along with the
documentation for common arguments whenever possible}}

\newcommand{\DOXAddBrief}{\stepcounter{Thyra_DOX_counter}
\textbf{DOX~\arabic{Thyra_DOX_counter}}:
{}\textit{Add a {}\ttt{$\backslash$brief} description for every entity
that should be seen by the user}}

\newcommand{\DOXAllOrNoneParam}{\stepcounter{Thyra_DOX_counter}
\textbf{DOX~\arabic{Thyra_DOX_counter}}:
{}\textit{Add a {}\ttt{$\backslash$param} field for all of the
arguments or none of the the arguments in a function; do not define
partial {}\ttt{$\backslash$param} field lists}}

\newcommand{\DOXReturnsOnlyIfNeeded}{\stepcounter{Thyra_DOX_counter}
\textbf{DOX~\arabic{Thyra_DOX_counter}}:
{}\textit{Only add a {}\ttt{$\backslash$returns} field if necessary
and if so refer to the return object as {}\ttt{returnVal}}}

\newcommand{\DOXPreferPostconditionsInParam}{\stepcounter{Thyra_DOX_counter}
\textbf{DOX~\arabic{Thyra_DOX_counter}}:
{}\textit{Prefer specifying postconditions for output arguments in
their {}\ttt{$\backslash$param} field; otherwise specify their
postconditions in the 'postconditions' list}}

\newcommand{\DOXOrderOfDocFieds}{\stepcounter{Thyra_DOX_counter}
\textbf{DOX~\arabic{Thyra_DOX_counter}}:
{}\textit{Order the documentation fields in function documentation as
{}\ttt{$\backslash$brief}, {}\ttt{$\backslash$param}, Preconditions,
Postconditions, {}\ttt{$\backslash$returns}, then detailed
documentation; omitting those components that do not apply}}

\newcommand{\DOXUseRelatesForNonmemberFunctions}{
\stepcounter{Thyra_DOX_counter}
\textbf{DOX~\arabic{Thyra_DOX_counter}}:
{}\textit{If possible, try to use {}\ttt{$\backslash$relates} to
associate nonmember functions with a single class}}

\newcommand{\DOXDocumentInitialVirtualOnly}{\stepcounter{Thyra_DOX_counter}
\textbf{DOX~\arabic{Thyra_DOX_counter}}:
{}\textit{Provide detailed documentation for only the initial
declaration of a virtual function}}

\newcommand{\DOXAggregateOverrides}{\stepcounter{Thyra_DOX_counter}
\textbf{DOX~\arabic{Thyra_DOX_counter}}:
{}\textit{Aggregate the overrides of virtual functions into groups
according their base class}}

\newcommand{\DOXAutogenerateExampleCode}{\stepcounter{Thyra_DOX_counter}
\textbf{DOX~\arabic{Thyra_DOX_counter}}:
{}\textit{Example source code used in Doxygen-generated and other
forms of documentation should be extracted automatically from code
that is compiled and tested nightly}}

\newcommand{\DOXAutogenerateSampleOutput}{\stepcounter{Thyra_DOX_counter}
\textbf{DOX~\arabic{Thyra_DOX_counter}}:
{}\textit{Sample output should be generated automatically from
compiled and tested code}}
