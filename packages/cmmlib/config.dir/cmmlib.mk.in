# To generate/regenerate cmmlib.mk, run ./configure

#
# This file is a make fragment exported by cmmlib for
# use by dependent packages.
#

#
# Installation directories
#

# If you override bindir, etc this will not work properly,
# you will have to go back and munge the installed cmmlib.mk
#

cmmlib_prefix        = @prefix@
cmmlib_exec_prefix   = ${cmmlib_prefix}
cmmlib_bindir        = ${cmmlib_exec_prefix}/bin
cmmlib_libdir        = ${cmmlib_exec_prefix}/lib
cmmlib_libexecdir    = ${cmmlib_exec_prefix}/libexec
cmmlib_includedir    = ${cmmlib_prefix}/include
cmmlib_datadir       = ${cmmlib_prefix}/share

# HTML goes here
cmmlib_docdir        = ${cmmlib_prefix}/doc

# dont use these
cmmlib_infodir       = ${cmmlib_prefix}/info
cmmlib_mandir        = ${cmmlib_prefix}/man

#
# Source directories
#
cmmlib_abs_srcdir    = @abs_srcdir@
cmmlib_abs_topsrcdir = @abs_srcdir@
cmmlib_srcdir        = @srcdir@
cmmlib_top_srcdir    = @top_srcdir@
cmmlib_VPATH         = @srcdir@

cmmlib_host          = @host@
cmmlib_host_alias    = @host_alias@
cmmlib_host_cpu      = @host_cpu@
cmmlib_host_os       = @host_os@
cmmlib_host_vendor   = @host_vendor@

cmmlib_target        = @target@
cmmlib_target_alias  = @target_alias@
cmmlib_target_cpu    = @target_cpu@
cmmlib_target_os     = @target_os@
cmmlib_target_vendor = @target_vendor@

cmmlib_build         = @build@
cmmlib_build_alias   = @build_alias@
cmmlib_build_cpu     = @build_cpu@
cmmlib_build_os      = @build_os@
cmmlib_build_vendor  = @build_vendor@


#
# Define compilers, etc from autoconf/configure
#
PATH_SEPARATOR = @PATH_SEPARATOR@
RANLIB = @RANLIB@
SHELL = @SHELL@

CC=@CC@
CFLAGS=@CFLAGS@
CPPFLAGS=@CPPFLAGS@

CXX = @CXX@
CXXCPP = @CXXCPP@
CXXFLAGS = @CXXFLAGS@

MPI_CC_EXISTS = @MPI_CC_EXISTS@
MPI_CC = @MPI_CC@

MPI_CXX_EXISTS = @MPI_CXX_EXISTS@
MPI_CXX = @MPI_CXX@

LIBS = @LIBS@
FLIBS = @FLIBS@

#
# Should I put BLAS_LIBS =  @BLAS_LIBS@  @FLIBS@  ??
#
BLAS_LIBS = @BLAS_LIBS@
BLAS_INCLUDE = @BLAS_INCLUDE@

MPI_LIBS = @MPI_LIBS@
MPI_INCLUDE = @MPI_INCLUDE@

CMMLIB_LIBS = -L${cmmlib_libdir} -lcmm
CMMLIB_INCLUDE = -I${cmmlib_includedir}/cmmlib

#
# Try to figure out Fortran name mangling
#

sgemm = @sgemm@

ifeq ("$(sgemm)", "sgemm")
 FORTRAN_MANGLE=-DFORTRAN_MANGLE_NONE
endif

ifeq ("$(sgemm)", "sgemm_")
 FORTRAN_MANGLE=-DFORTRAN_MANGLE_
endif

ifeq ("$(sgemm)", "SGEMM")
 FORTRAN_MANGLE=-DFORTRAN_MANGLE_UPPER
endif

ifeq ("$(sgemm)", "SGEMM_")
 FORTRAN_MANGLE=-DFORTRAN_MANGLE_UPPER_
endif
