<!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 ! Zoltan Dynamic Load-Balancing Library for Parallel Applications            !
 ! Copyright (c) 2000, Sandia National Laboratories.                          !
 ! Zoltan is distributed under the GNU Lesser General Public License 2.1.     !
 ! For more info, see the README file in the top-level Zoltan directory.      ! 
 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
>
<! CVS File Information
     $RCSfile$
     $Author$
     $Date$
     $Revision$
>

<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.7 [en] (X11; U; SunOS 5.7 sun4u) [Netscape]">
   <meta name="sandia.approved" content="SAND99-1376">
   <meta name="author" content="karen devine, kddevin@sandia.gov">
   <title> Zoltan Developer's Guide:  Adding Interface Routines</title>
</head>
<body bgcolor="#FFFFFF">

<div ALIGN=right><b><i><a href="dev.html">Zoltan Developer's Guide</a>&nbsp; |&nbsp; <a href="dev_add_lb.html">Next</a>&nbsp; |&nbsp; <a href="dev_add.html">Previous</a></i></b></div>


<h2>
<a NAME="new_interface"></a>Load-Balancing Interface Routines</h2>
Any new method that you wish to add to the Zoltan library must have an
interface that conforms to the protype <b><a href="dev_add_lb.html">LB_FN</a></b>.
Note that the load balancing
function may return either import lists, export lists, or both. All
processes must return the same type of list. If&nbsp; import (export) lists
are not computed, then the variable <i>num_import</i> (<i>num_export</i>)
must be set to a negative number (typically -1) upon return.
<p>A new algorithm must be added to the load-balancing interface for use
in
<b><a href="../ug_html/ug_interface_lb.html#LB_Set_Method">LB_Set_Method</a></b>.
An entry for the new algorithm must be added to the enumerated type <b>LB_Method</b>
in <i>lb/lb_const.h</i>. An external <b><a href="dev_add_lb.html">LB_FN</a></b>
prototype for the load-balancing function must also be added to <i>lb/lb_const.h</i>;
see the prototype for function <i>lb_rcb</i> as an example. A character
string describing the new algorithm should be chosen to be used as application
input to <b><a href="../ug_html/ug_interface_lb.html#LB_Set_Method">LB_Set_Method</a></b>.
A test for this string is added to <b><a href="../ug_html/ug_interface_lb.html#LB_Set_Method">LB_Set_Method</a></b>,
and the <i>Method</i> and <i>LB_Fn</i> fields of the <b><a href="dev_lb_structs.html#LB_Struct">LB_Struct</a></b>
passed to <b><a href="../ug_html/ug_interface_lb.html#LB_Set_Method">LB_Set_Method</a></b>
should be set to the new enumerated type value and new load-balancing function
pointer.
<br>&nbsp;
<p>
<hr WIDTH="100%">
<br>[<a href="dev.html">Table of Contents</a>&nbsp; |&nbsp; <a href="dev_add_lb.html">Next:&nbsp;
Load-Balancing Function Implementation</a>&nbsp; |&nbsp; <a href="dev_add.html">Previous:&nbsp;
Adding New Algorithms</a>]
</body>
</html>
