<!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 ! Zoltan Dynamic Load-Balancing Library for Parallel Applications            !
 ! Copyright (c) 2000, Sandia National Laboratories.                          !
 ! For more info, see the README file in the top-level Zoltan directory.      ! 
 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
>
<! CVS File Information
     $RCSfile$
     $Author$
     $Date$
     $Revision$
>

<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.7 [en] (X11; U; SunOS 5.7 sun4u) [Netscape]">
   <meta name="sandia.approved" content="SAND99-1376">
   <meta name="author" content="karen devine, kddevin@sandia.gov">
   <title> Zoltan Developer's Guide:  Load Balancing Data Structures</title>
</head>
<body bgcolor="#FFFFFF">

<div ALIGN=right><b><i><a href="dev.html">Zoltan Developer's Guide</a>&nbsp; |&nbsp; <a href="dev_util.html">Next</a>&nbsp; |&nbsp; <a href="dev_lb_types.html">Previous</a></i></b></div>


<h2>
<a NAME="interface_structs"></a>Data Structures</h2>
The <b>LB_Struct</b> data structure is the main data structure for interfacing
between the load-balancing library and the application. The application
creates an <b>LB_Struct</b> data structure through a call to <b><a href="../ug_html/ug_interface_init.html#LB_Create">LB_Create</a></b>.
Fields of the data structure are then set through calls from the application
to load-balancing interface routines such as <b><a href="../ug_html/ug_interface_lb.html#LB_Set_Method">LB_Set_Method</a></b>
and <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.
The fields of the <b>LB_Struct</b> data structure are listed and described
in the <a href="#LB_Struct">table</a> below. See the <a href="../ug_html/ug.html">Zoltan
User's Guide</a> for descriptions of the function types used in the <b>LB_Struct</b>.
<p>An <b>LB_Struct</b> data structure <i>lb</i> is passed from the application
to the load-balancing library in the call to <b><a href="../ug_html/ug_interface_lb.html#LB_Balance">LB_Balance</a></b>.
This data structure is passed to the individual load-balancing routines.
The <i>lb->Data_Structure</i> pointer field should point to the main data
structures of the particular load-balancing algorithm so that the data
structures may be preserved for future calls to <b><a href="../ug_html/ug_interface_lb.html#LB_Balance">LB_Balance</a></b>
and so that separate instances of the same load-balancing algorithm (with
different <b>LB_Struct</b> structures) can be used by the application.
<br>&nbsp;
<center><table BORDER WIDTH="90%" NOSAVE >
<tr>
<th><a NAME="LB_Struct"></a>Fields of LB_Struct</th>

<th>Description</th>
</tr>

<tr>
<td VALIGN=TOP>MPI_Comm <i>Communicator</i></td>

<td>The MPI communicator to be used by the load-balancing structure; set
by
<b><a href="../ug_html/ug_interface_init.html#LB_Create">LB_Create</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>int <i>Proc</i></td>

<td>The rank of the processor within <i>Communicator</i>; set in <b><a href="../ug_html/ug_interface_init.html#LB_Create">LB_Create</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>int <i>Num_Proc</i></td>

<td>The number of processors in <i>Communicator</i>; set in <b><a href="../ug_html/ug_interface_init.html#LB_Create">LB_Create</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>int <i><a href="../ug_html/ug_alg.html#Debug Levels in Zoltan">Debug_Level</a></i></td>

<td>A flag indicating the amount of debugging information that should be
printed by the load-balancing library.</td>
</tr>

<tr>
<td VALIGN=TOP>int <i>Fortran</i></td>

<td>A flag indicating whether or not the structure was created by a call
from Fortran.</td>
</tr>

<tr>
<td VALIGN=TOP>LB_METHOD <i>Method</i></td>

<td>An enumerated type designating which load-balancing algorithm should
be used with this load-balancing structure; set by <b><a href="../ug_html/ug_interface_lb.html#LB_Set_Method">LB_Set_Method</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>LB_FN *<i> LB_Fn</i></td>

<td>A pointer to the load-balancing function specified by <i>Method</i>;
set in <b><a href="../ug_html/ug_interface_lb.html#LB_Set_Method">LB_Set_Method</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>LB_PARAM *<i> Params</i></td>

<td>A linked list of string pairs. The first item in each pair is the name
of a modifiable parameter. The second string is the new value the parameter
should adopt. These string pairs are read upon invocation of a load balancing
algorithm and the appropriate parameter changes are made. This design allows
for different LB structures to have different parameter settings.</td>
</tr>

<tr>
<td VALIGN=TOP>double <i>Imbalance_Tol</i></td>

<td>The degree of load balance which is considered acceptable. A value
of 1.1 implies a 10% imbalance is acceptable, i.e. that the maximum load
over the average should be no more than 1.1. Set via a call to
<b><a href="dev_util_params.html#LB_Set_Param">LB_Set_Param</a></b>.</td>
</tr>

<tr VALIGN=TOP NOSAVE>
<td NOSAVE>int <i>Deterministic</i></td>

<td>Flag indicating whether algorithms used should be forced to be deterministic;
used to obtain completely reproducible results.</td>
</tr>

<tr>
<td VALIGN=TOP>int <i>Obj_Weight_Dim</i></td>

<td>Number of weights per object to be used in load balancing, 
usually 0 (no weights) or 1.</td>
</tr>

<tr>
<td VALIGN=TOP>int <i>Comm_Weight_Dim</i></td>

<td>For graph algorithms, number of weights per edge to be used in load balancing, usually 0 (no weights) or 1.</td>
</tr>

<tr>
<td VALIGN=TOP>void *<i> Data_Structure</i></td>

<td>The data structure used by the selected load-balancing algorithm; this
pointer is cast by the algorithm to the appropriate data type.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_lb.html#LB_NUM_EDGES">LB_NUM_EDGES_FN</a>
*<i> Get_Num_Edges</i></td>

<td>A pointer to an application-registered function that returns the number
of edges associated with a given object. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Get_Num_Edges_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Get_Num_Edges</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_lb.html#LB_EDGE_LIST_FN">LB_EDGE_LIST_FN</a>
*<i> Get_Edge_List</i></td>

<td>A pointer to an application-registered function that returns a given
object's neighbors along its edges. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Get_Edge_List_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Get_Edge_List</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_lb.html#LB_NUM_GEOM_FN">LB_NUM_GEOM_FN</a>
*<i> Get_Num_Geom</i></td>

<td>A pointer to an application-registered function that returns the number
of geometry values needed to describe the positions of objects. Set in
<b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Get_Num_Geom_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Get_Num_Geom</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_lb.html#LB_GEOM_FN">LB_GEOM_FN</a>
*<i> Get_Geom</i></td>

<td>A pointer to an application-registered function that returns a given
object's geometry information (e.g., coordinates). Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Get_Geom_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Get_Geom</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_lb.html#LB_NUM_OBJ_FN">LB_NUM_OBJ_FN</a>
*<i> Get_Num_Obj</i></td>

<td>A pointer to an application-registered function that returns the number
of objects assigned to the processor before load balancing. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Get_Num_Obj_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Get_Num_Obj</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_lb.html#LB_OBJ_LIST_FN">LB_OBJ_LIST_FN</a>
*<i> Get_Obj_List</i></td>

<td>A pointer to an application-registered function that returns arrays
of objects assigned to the processor before load balancing. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Get_Obj_List_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Get_Obj_List</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_lb.html#LB_FIRST_OBJ_FN">LB_FIRST_OBJ_FN</a>
*<i> Get_First_Obj</i></td>

<td>A pointer to an application-registered function that returns the first
object assigned to the processor before load balancing. Used with <i>Get_Next_Obj</i>
as an iterator over all objects. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Get_First_Obj_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Get_First_Obj</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_lb.html#LB_NEXT_OBJ_FN">LB_NEXT_OBJ_FN</a>
*<i> Get_Next_Obj</i></td>

<td>A pointer to an application-registered function that, given an object
assigned to the processor, returns the next object assigned to the processor
before load balancing. Used with <i>Get_First_Obj</i> as an iterator over
all objects. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Get_Next_Obj_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Get_Next_Obj</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_lb.html#LB_NUM_BORDER_OBJ_FN">LB_NUM_BORDER_OBJ_FN</a>
*<i> Get_Num_Border_Obj</i></td>

<td>A pointer to an application-registered function that returns the number
of objects sharing a subdomain border with a given processor. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Get_Num_Border_Obj_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Get_Num_Border_Obj</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_lb.html#LB_BORDER_OBJ_LIST_FN">LB_BORDER_OBJ_LIST_FN</a>
*<i> Get_Border_Obj_List</i></td>

<td>A pointer to an application-registered function that returns arrays
of objects that share a subdomain border with a given processor. Set in
<b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Get_Border_Obj_List_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Get_Border_Obj_List</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_lb.html#LB_FIRST_BORDER_OBJ_FN">LB_FIRST_BORDER_OBJ_FN</a>
*<i> Get_First_Border_Obj</i></td>

<td>A pointer to an application-registered function that returns the first
object sharing a subdomain border with a given processor. Used with <i>Get_Next_Border_Obj</i>
as an iterator over objects along borders. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Get_First_Border_Obj_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Get_First_Border_Obj</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_lb.html#LB_NEXT_BORDER_OBJ_FN">LB_NEXT_BORDER_OBJ_FN</a>
*<i> Get_Next_Border_Obj</i></td>

<td>A pointer to an application-registered function that, given an object,
returns the next object sharing a subdomain border with a given processor.
Used with <i>Get_First_Border_Obj</i> as an iterator over objects along
borders. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Get_Next_Border_Obj_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Get_Next_Border_Obj</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_lb.html#LB_NUM_COARSE_OBJ_FN">LB_NUM_COARSE_OBJ_FN</a>
*<i> Get_Num_Coarse_Obj</i></td>

<td>A pointer to an application-registered function that returns the number
of objects in the initial coarse grid. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Get_Num_Coarse_Obj_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Get_Num_Coarse_Obj</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_lb.html#LB_COARSE_OBJ_LIST_FN">LB_COARSE_OBJ_LIST_FN</a>
*<i> Get_Coarse_Obj_List</i></td>

<td>A pointer to an application-registered function that returns arrays
of objects in the initial coarse grid. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Get_Coarse_Obj_List_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Get_Coarse_Obj_List</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_lb.html#LB_FIRST_COARSE_OBJ_FN">LB_FIRST_COARSE_OBJ_FN</a>
*<i> Get_First_Coarse_Obj</i></td>

<td>A pointer to an application-registered function that returns the first
object of the initial coarse grid. Used with <i>Get_Next_Coarse_Obj</i>
as an iterator over all objects in the coarse grid. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Get_First_Coarse_Obj_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Get_First_Coarse_Obj</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_lb.html#LB_NEXT_COARSE_OBJ_FN">LB_NEXT_COARSE_OBJ_FN</a>
*<i> Get_Next_Coarse_Obj</i></td>

<td>A pointer to an application-registered function that, given an object
in the initial coarse grid, returns the next object in the coarse grid.
Used with <i>Get_First_Coarse_Obj</i> as an iterator over all objects in
the coarse grid. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Get_Next_Coarse_Obj_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Get_Next_Coarse_Obj</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_lb.html#LB_NUM_CHILD_FN">LB_NUM_CHILD_FN</a>
*<i> Get_Num_Child</i></td>

<td>A pointer to an application-registered function that returns the number
of refinement children of an object. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Get_Num_Child_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Get_Num_Child</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_lb.html#LB_CHILD_LIST_FN">LB_CHILD_LIST_FN</a>
*<i> Get_Child_List</i></td>

<td>A pointer to an application-registered function that returns arrays
of objects that are refinement children of a given object. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Get_Child_List_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Get_Child_List</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_lb.html#LB_CHILD_WEIGHT_FN">LB_CHILD_WEIGHT_FN</a>
*<i> Get_Child_Weight</i></td>

<td>A pointer to an application-registered function that returns the weight
of an object. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Get_Child_Weight_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Get_Child_Weight</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>LB_MIGRATE <i>Migrate</i></td>

<td>A structure with data used by the migration tools. See the <a href="#Migrate_Fields">table</a>
below.</td>
</tr>

<caption ALIGN=BOTTOM><i>Fields of the </i><b>LB_Struct</b><i> data structure.</i></caption>
</table></center>

<p>Each <b>LB_Struct</b> data structure has an <b>LB_Migrate</b> sub-structure.
The <b>LB_Migrate</b> structure contains data used by the migration
tools, including pointers to object packing and unpacking routines. These
pointers are set through the load-balancing interface routine <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>
and are used in <b><a href="../ug_html/ug_interface_mig.html#LB_Help_Migrate">LB_Help_Migrate</a></b>.
The fields of the <b>LB_Migrate</b> structure are listed and described
in in the following <a href="#Migrate_Fields">table</a>.
<br>&nbsp;
<center><table BORDER WIDTH="90%" NOSAVE >
<tr>
<th><a NAME="Migrate_Fields"></a>Fields of LB_Migrate</th>

<th>Description</th>
</tr>

<tr>
<td VALIGN=TOP>int <i>Auto_Migrate</i></td>

<td>A flag indicating whether the load-balancing library should perform
auto-migration for the application. If true, the load-balancing library
calls <b><a href="../ug_html/ug_interface_mig.html#LB_Help_Migrate">LB_Help_Migrate</a></b>
to move objects to their new processors; if false, data migration is left
to the user. Set in <b><a href="dev_util_params.html#LB_Set_Param">LB_Set_Param</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_mig.html#LB_PRE_MIGRATE_FN">LB_PRE_MIGRATE_FN</a>
*<i> Pre_Process</i></td>

<td>A pointer to an application-registered function that performs pre-processing
for data migration. The function is called by <b><a href="../ug_html/ug_interface_mig.html#LB_Help_Migrate">LB_Help_Migrate</a></b>
before data migration is performed. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Pre_Process_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Pre_Process</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr NOSAVE>
<td VALIGN=TOP NOSAVE><a href="../ug_html/ug_query_mig.html#LB_POST_MIGRATE_FN">LB_POST_MIGRATE_FN</a>
*<i>Post_Process</i></td>

<td>A pointer to an application-registered function that performs post-processing
for data migration. The function is called by <b><a href="../ug_html/ug_interface_mig.html#LB_Help_Migrate">LB_Help_Migrate</a></b>
after data migration is performed. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr NOSAVE>
<td VALIGN=TOP NOSAVE>void *<i>Post_Process_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Post_Process</i>.&nbsp; Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.&nbsp;</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_mig.html#LB_OBJ_SIZE_FN">LB_OBJ_SIZE_FN</a>
*<i> Get_Obj_Size</i></td>

<td>A pointer to an application-registered function that returns the size
(in bytes) of data objects to be migrated. Called by <b><a href="../ug_html/ug_interface_mig.html#LB_Help_Migrate">LB_Help_Migrate</a></b>;
set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Get_Obj_Size_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Get_Obj_Size</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_mig.html#LB_PACK_OBJ_FN">LB_PACK_OBJ_FN</a>
*<i> Pack_Obj</i></td>

<td>A pointer to an application-registered function that packs all data
for a given object into a communication buffer provided by the migration
tools in preparation for data-migration communication. Called by <b><a href="../ug_html/ug_interface_mig.html#LB_Help_Migrate">LB_Help_Migrate</a></b>
for each object to be exported; set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Pack_Obj_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Pack_Obj</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="../ug_html/ug_query_mig.html#LB_UNPACK_OBJ_FN">LB_UNPACK_OBJ_FN</a>
*<i> Unpack_Obj</i></td>

<td>A pointer to an application-registered function that unpacks all data
for a given object from a communication buffer after the communication
for data migration is completed. Called by <b><a href="../ug_html/ug_interface_mig.html#LB_Help_Migrate">LB_Help_Migrate</a></b>
for each imported object; set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<tr>
<td VALIGN=TOP>void <i>*Unpack_Obj_Data</i></td>

<td>A pointer to data provided by the user that will be passed to the function
pointed to by <i>Unpack_Obj</i>. Set in <b><a href="../ug_html/ug_interface_init.html#LB_Set_Fn">LB_Set_Fn</a></b>.</td>
</tr>

<caption ALIGN=BOTTOM><i>Fields of the </i><b>LB_Migrate</b><i> data structure.</i></caption>
</table></center>

<p>For each pointer to an application registered function in the
<b>LB_Struct</b>
and <b>LB_Migrate</b> data structures there is also a pointer to a Fortran
application registered function, of the form LB_FUNCNAME_FORT_FN *<i>Get_Funcname_Fort</i>.
These are for use within the Fortran interface. The load-balancing routines
should invoke the usual application registered function regardless of whether
the load balancing structure was created from C or Fortran.
<p>The <b>LB_Tag_Struct</b> is provided to simplify the mechanics of storing
both the global and local IDs (see <a href="#Tag_Struct">table</a> below).
An <b>LB_Tag_Struct</b> can be associated with each object and manipulated
as a single entity. A processor ID field is also associated with the <b>LB_Tag_Struct</b>;
its use is determined by the algorithm. It can be used as a destination
processor or as the "home" processor of the object.
<br>&nbsp;
<center><table BORDER WIDTH="90%" >
<tr>
<th><a NAME="Tag_Struct"></a>Fields of LB_Tag_Struct</th>

<th>Description</th>
</tr>

<tr>
<td VALIGN=TOP><a href="dev_lb_types.html#Macros">LB_GID</a> <i>Global_ID</i></td>

<td>The unique global ID for an object, provided by the application.</td>
</tr>

<tr>
<td VALIGN=TOP><a href="dev_lb_types.html#Macros">LB_LID</a> <i>Local_ID</i></td>

<td>A local ID for an object, provided by the application. This field is
used for performance optimization within the application. It is not used
by the load-balancing library but must be stored with the object to be
passed to query functions.</td>
</tr>

<tr>
<td VALIGN=TOP>int <i>Proc</i></td>

<td>A processor rank for the object within the <i>Communicator</i> of <b>LB_Struct</b>.
This field may be the eventual destination of the object or the source
processor for the object; its use is determined by the load-balancing algorithm.</td>
</tr>

<caption ALIGN=BOTTOM><i>Fields of the</i> <b>LB_Tag_Struct</b><i> data
structure.</i></caption>
</table></center>

<hr WIDTH="100%">
<br>[<a href="dev.html">Table of Contents</a>&nbsp; |&nbsp; <a href="dev_util.html">Next:&nbsp;
Utilities</a>&nbsp; |&nbsp; <a href="dev_lb_types.html">Previous:&nbsp;
Interface Data Types</a>]
</body>
</html>
