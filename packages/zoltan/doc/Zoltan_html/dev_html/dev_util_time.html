<!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 ! Zoltan Dynamic Load-Balancing Library for Parallel Applications            !
 ! Copyright (c) 2000, Sandia National Laboratories.                          !
 ! Zoltan is distributed under the GNU Lesser General Public License 2.1.     !
 ! For more info, see the README file in the top-level Zoltan directory.      ! 
 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
>
<! CVS File Information
     $RCSfile$
     $Author$
     $Date$
     $Revision$
>

<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.7 [en] (X11; U; SunOS 5.7 sun4u) [Netscape]">
   <meta name="sandia.approved" content="SAND99-1376">
   <meta name="author" content="karen devine, kddevin@sandia.gov">
   <title> Zoltan Developer's Guide:  Timing Utilities</title>
</head>
<body bgcolor="#FFFFFF">

<div ALIGN=right><b><i><a href="dev.html">Zoltan Developer's Guide</a>&nbsp; |&nbsp; <a href="dev_util_debug.html">Next</a>&nbsp; |&nbsp; <a href="dev_util_hash.html">Previous</a></i></b></div>


<h2>
<a NAME="Timing"></a>Timing Utilities</h2>
To assist in performance measurements and profiling, several timing routines
are included in the Zoltan library. The main timer function, <b>LB_Time,</b>
provides access to at least two portable timers: one CPU clock and one
wall clock.
<p>The routines included in the utility are listed below.
<blockquote><b><a href="#LB_Time">LB_Time</a></b>: Returns the time (in
seconds) after some fixed point in time.
<br><b><a href="#LB_Time_Resolution">LB_Time_Resolution</a></b>:&nbsp;
The resolution of the current clock (timer).</blockquote>
One can select which timer to use via <b><a href="dev_util_params.html#LB_Set_Param">LB_Set_Param</a></b>.
Currently, the following values for <i>TIMER</i> are supported:
<blockquote><i>wall </i>: wall-clock time. On most systems, this timer
calls MPI_Wtime.
<br><i>cpu</i>&nbsp; : cpu time.&nbsp; On most systems, this timer calls
the ANSI C function clock(). Note that this timer may roll over at just
36 minutes. LB_Time attempts to keep track of the number of roll-overs
but this feature will work only if LB_Time is called at least once during
every period between roll-overs.</blockquote>
The default value of <i>TIMER</i> is <i>wall</i>. The timer setting is
global. Consequently, one cannot use different timers for different load-balancing
structures.
<p>
<hr><a NAME="LB_Time"></a>double <b>LB_Time</b>(void);&nbsp;
<hr>
<p><b>LB_Time</b> returns the time in seconds, measured from some fixed
reference time. Note that the time is <i>not </i>synchronized among different
processors or processes. The time may be either CPU time or wall-clock
time. The timer is selected through <b><a href="../ug_html/ug_interface_lb.html#LB_Set_Param">LB_Set_Param</a></b>.
<br>&nbsp;
<table WIDTH="100%" >
<tr VALIGN=TOP>
<td VALIGN=TOP WIDTH="20%"><b>Parameters:</b></td>

<td></td>
</tr>

<tr>
<td VALIGN=TOP>&nbsp;</td>

<td>None.</td>
</tr>

<tr>
<td><b>Returned Value:</b></td>

<td></td>
</tr>

<tr>
<td VALIGN=TOP>&nbsp;&nbsp; double&nbsp;</td>

<td>The time in seconds.&nbsp;</td>
</tr>
</table>

<p>
<hr><a NAME="LB_Time_Resolution"></a>double <b>LB_Time_Resolution</b>(void)
;&nbsp;
<hr>
<br><b>LB_Time_Resolution</b> returns the resolution of the current timer.
<br>&nbsp;
<table WIDTH="100%" >
<tr VALIGN=TOP>
<td VALIGN=TOP WIDTH="20%"><b>Parameters:</b></td>

<td></td>
</tr>

<tr>
<td VALIGN=TOP>&nbsp;</td>

<td>None.</td>
</tr>

<tr>
<td><b>Returned Value:</b></td>

<td></td>
</tr>

<tr>
<td VALIGN=TOP>&nbsp;&nbsp; double&nbsp;</td>

<td>The timer resolution in seconds.&nbsp; If the resolution is unknown,
zero is returned.</td>
</tr>
</table>

<br>&nbsp;
<p>
<hr><a NAME="Example"></a>
<br><b>Example:</b>
<br>Here is a typical example for how to use the timer routines:
<ul>double t0, t1, t2;
<br>LB_Set_Param(NULL, "TIMER", "wall");
<br>t0 = LB_Time();
<br>/* code segment 1&nbsp; */
<br>t1 = LB_Time();
<br>/* code segment 2&nbsp; */
<br>t2 = LB_Time();
<br>/* Print timing results */
<br>LB_Print_Stats(lb, t1-t0, "Time for part 1:");
<br>LB_Print_Stats(lb, t2-t1, "Time for part 2:");
<br>LB_Print_Stats(lb, t2-t0, "Total time :");</ul>

<hr WIDTH="100%">
<br>[<a href="dev.html">Table of Contents</a>&nbsp; |&nbsp; <a href="dev_util_debug.html">Next:&nbsp;
Debugging Utilities</a> |&nbsp; <a href="dev_util_hash.html">Previous:&nbsp;
Hash Function</a>]
</body>
</html>
