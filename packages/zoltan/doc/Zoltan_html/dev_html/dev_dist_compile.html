<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.7 [en] (X11; U; SunOS 5.7 sun4u) [Netscape]">
   <meta name="sandia.approved" content="SAND99-1376">
   <meta name="author" content="karen devine, kddevin@sandia.gov">
   <title> Zoltan Developer's Guide:  Compilation</title>
<!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 ! Zoltan Dynamic Load-Balancing Library for Parallel Applications            !
 ! Copyright (c) 2000, Sandia National Laboratories.                          !
 ! Zoltan is distributed under the GNU Lesser General Public License 2.1.     !
 ! For more info, see the README file in the top-level Zoltan directory.      ! 
 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
>
<! CVS File Information
     $RCSfile$
     $Author$
     $Date$
     $Revision$
>
</head>
<body bgcolor="#FFFFFF">

<div ALIGN=right><b><i><a href="dev.html">Zoltan Developer's Guide</a>&nbsp; |&nbsp; <a href="dev_lb.html">Next</a>&nbsp; |&nbsp; <a href="dev_dist_dir.html">Previous</a></i></b></div>


<h2>
<a NAME="compilation"></a>Compilation</h2>
The Zoltan distribution includes a main (top-level) Makefile with targets
for the Zoltan library and the test driver programs. When the library is
compiled for a specific target platform, <i>A</i>, the top-level Makefile
obtains platform-specific values for platform <i>A</i> from the lower-level
makefile <i>Makefiles/Makefile.A</i>.&nbsp; This lower-level file should
be edited to reflect the environment of the target platform <i>A</i>.&nbsp;
Examples of platform-specific makefiles included with the Zoltan distribution
are listed in the <a href="#Architectures table">table</a> below.&nbsp;
A subdirectory, <i>Obj_A</i>, is created, and Makefile_sub is copied into
that directory for use by make.
<br>&nbsp;
<center><table BORDER WIDTH="90%" NOSAVE >
<tr>
<th><a NAME="Architectures table"></a>Target-specific Makefile</th>

<th>Architecture</th>
</tr>

<tr VALIGN=TOP NOSAVE>
<td NOSAVE>Makefile.generic</td>

<td>A well-commented template for new lower-level makefiles.</td>
</tr>

<tr>
<td VALIGN=TOP>Makefile.smos</td>

<td>Intel Paragon running SUNMOS (sipapu).</td>
</tr>

<tr>
<td VALIGN=TOP>Makefile.tflop</td>

<td>Sandia/Intel Teraflops (ASCI Red) computer (janus).</td>
</tr>

<tr>
<td VALIGN=TOP>Makefile.solaris</td>

<td>Sun workstations running Solaris.</td>
</tr>

<tr>
<td>Makefile.cplant</td>

<td>CPlant parallel computing system (alaska).</td>
</tr>

<tr>
<td VALIGN=TOP>Makefile.nistsun</td>

<td>Sun workstations at NIST running Solaris.</td>
</tr>

<tr>
<td VALIGN=TOP>Makefile.nistlinux</td>

<td>Intel PC workstations at NIST running Linux.</td>
</tr>

<caption ALIGN=BOTTOM><i>Platform-specific makefiles provided in the Makefiles
subdirectory of the Zoltan distribution.</i></caption>
</table></center>

<p>The GNU <i>gmake</i> utility (standard "make" works as well) is used
to build dependency files and compile the library for a given target:
<blockquote>gmake [options] zoltan</blockquote>
where the options that can be specified are listed below.
<table WIDTH="100%" >
<tr>
<td WIDTH="20%"><b>Options to gmake:</b></td>

<td>&nbsp;</td>
</tr>

<tr>
<td VALIGN=TOP><i>&nbsp;&nbsp;&nbsp; ZOLTAN_ARCH=&lt;platform></i></td>

<td>Specify the target architecture for the Zoltan library.&nbsp; A corresponding
file, <i>Makefiles/Makefile.&lt;platform></i>, containing environment definitions
for <i>&lt;platform</i>>, must be created in the
<i>Makefiles</i> directory.</td>
</tr>

<tr>
<td VALIGN=TOP><i>&nbsp;&nbsp;&nbsp; YES_FORTRAN=1</i></td>

<td>Include Fortran support in the Zoltan library.&nbsp; By default, the
Zoltan library is built without the interface that allows use from Fortran
applications.&nbsp; If this option is specified, then the
<a href="../ug_html/ug_fortran.html">Fortran
interface</a> is compiled and included in the library.&nbsp; Use of this
option requires that a Fortran 90 (or 95, or later) compiler is available.</td>
</tr>
</table>
As an alternative to typing the options on the gmake command line, they
may be set as environment variables; e.g.,
<blockquote>&nbsp;setenv ZOLTAN_ARCH <i>&lt;platform></i></blockquote>
After compilation, the library <i>libzoltan.a</i>, the object files, and
dependency files for platform <i>A</i> are stored in <i>Obj_A</i>.
<p>
<hr WIDTH="100%">
<br>[<a href="dev.html">Table of Contents</a>&nbsp; |&nbsp; <a href="dev_lb.html">Next:&nbsp;
Load-Balancing Interface and Data Structures</a>&nbsp; |&nbsp; <a href="dev_dist_dir.html">Previous:&nbsp;
Layout of Directories</a>]
</body>
</html>
