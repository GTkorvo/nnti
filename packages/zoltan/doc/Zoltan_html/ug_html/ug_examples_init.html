<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (X11; U; SunOS 4.1.3_U1 sun4m) [Netscape]">
   <META NAME="sandia.approved" CONTENT="SAND99-1377">
   <META NAME="author" CONTENT="karen devine, kddevin@sandia.gov">

   <TITLE>Zoltan User's Guide:  Initialization Examples</TITLE>
<!
  ------------------------
  | CVS File Information |
  ------------------------
  $RCSfile$
  $Author$
  $Date$
  $Revision$
>
</HEAD>
<BODY BGCOLOR="#FFFFFF">

<DIV ALIGN=right>
<H3>
<IMG SRC="figures/ug_header.gif" ALT="Zoltan User's Guide" ></H3></DIV>

<H2>
<A NAME="Initialization Example"></A>Initialization Example</H2>
Before computing new decompositions using Zoltan, an application must initialize
the load-balancing library. This initialization is accomplished through
calls to <B><A HREF="ug_interface_init.html#LB_Initialize">LB_Initialize</A></B>
and <B><A HREF="ug_interface_init.html#LB_Create">LB_Create</A></B>.
In the <A HREF="#Init Example Fig">figure</A> below, an example of the
initialization calling sequence is shown. In this example, <B><A HREF="ug_interface_init.html#LB_Initialize">LB_Initialize</A></B>
is called using the <I>argc</I> and <I>argv</I> arguments to the main program.
Then a pointer to a load-balancing structure is returned by the call to 
<B><A HREF="ug_interface_init.html#LB_Create">LB_Create</A></B>.
In this example, all processors will be involved in load balancing, as
<B>MPI_COMM_WORLD</B> is passed as the communicator to be used by the load-balancing
routines.
<BR>&nbsp;
<CENTER><TABLE BORDER=2 COLS=1 WIDTH="90%" NOSAVE >
<TR NOSAVE>
<TD NOSAVE><A NAME="Init Example Fig"></A><TT>/* Initialize the LB library
*/</TT>&nbsp;
<BR><TT>struct LB_Struct *lb;</TT>&nbsp;
<BR><TT>float version;</TT>&nbsp;
<BR><TT>...</TT>&nbsp;
<BR><TT><A HREF="ug_interface_init.html#LB_Initialize">LB_Initialize</A>(argc,
argv, &amp;version);</TT>&nbsp;&nbsp;
<BR><TT>lb = <A HREF="ug_interface_init.html#LB_Create">LB_Create</A>(MPI_COMM_WORLD);</TT></TD>
</TR>

<CAPTION ALIGN=BOTTOM><I>Typical calling sequence for initialization of
the Zoltan library.</I></CAPTION>
</TABLE></CENTER>
&nbsp;

<CENTER><TABLE BORDER=2 COLS=1 WIDTH="90%" NOSAVE >
<TR NOSAVE>
<TD NOSAVE><TT>! Initialize the LB library</TT>&nbsp;
<BR><TT>type(LB_Struct), pointer :: lb</TT>&nbsp;
<BR><TT>real(lb_float) version</TT>&nbsp;
<BR><TT>integer(lb_int) ierr</TT>&nbsp;
<BR><TT>...</TT>&nbsp;
<BR><TT>ierr = <A HREF="ug_interface_init.html#LB_Initialize">LB_Initialize</A>(version)
! without argc and argv</TT>&nbsp;&nbsp;
<BR><TT>lb => <A HREF="ug_interface_init.html#LB_Create">LB_Create</A>(MPI_COMM_WORLD)</TT></TD>
</TR>

<CAPTION ALIGN=BOTTOM><I>Fortran version of initialization
example.</I></CAPTION>
</TABLE></CENTER>
&nbsp;

<P>
<HR WIDTH="100%">[<A HREF="ug.html">Table of Contents</A>&nbsp; |&nbsp;
<A HREF="ug_examples_lb.html">Next:&nbsp; Load-Balancing Example</A>&nbsp;
|&nbsp; <A HREF="ug_examples.html">Previous:&nbsp; Examples of Library
Usage</A>]
</BODY>
</HTML>
