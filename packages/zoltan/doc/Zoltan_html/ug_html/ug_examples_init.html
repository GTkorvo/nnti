<!-----------------------------------------------------------------------------
 ! Zoltan Dynamic Load-Balancing Library for Parallel Applications            !
 ! Copyright (c) 2000, Sandia National Laboratories.                          !
 ! This document is released under the GNU Lesser General Public License.     !
 ! For more info, see the README file in the top-level Zoltan directory.      !
 !----------------------------------------------------------------------------!
-->
<!-- CVS File Information
     $RCSfile$
     $Author$
     $Date$
     $Revision$
-->

<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (X11; U; SunOS 4.1.3_U1 sun4m) [Netscape]">
   <META NAME="sandia.approved" CONTENT="SAND99-1377">
   <META NAME="author" CONTENT="karen devine, kddevin@sandia.gov">

   <TITLE>Zoltan User's Guide:  Initialization Examples</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">

<div ALIGN=right><b><i><a href="ug.html">Zoltan User's Guide</a>&nbsp; |&nbsp; <a href="ug_examples_lb.html">Next</a>&nbsp; |&nbsp; <a href="ug_examples.html">Previous</a></i></b></div>


<H2>
<A NAME="Initialization Example"></A>Initialization Example</H2>
Before computing new decompositions using Zoltan, an application must initialize
the load-balancing library. This initialization is accomplished through
calls to <B><A HREF="ug_interface_init.html#Zoltan_Initialize">Zoltan_Initialize</A></B>
and <B><A HREF="ug_interface_init.html#Zoltan_Create">Zoltan_Create</A></B>.
In the <A HREF="#Init Example Fig">figure</A> below, an example of the
initialization calling sequence is shown. In this example, <B><A HREF="ug_interface_init.html#Zoltan_Initialize">Zoltan_Initialize</A></B>
is called using the <I>argc</I> and <I>argv</I> arguments to the main program.
Then a pointer to a Zoltan structure is returned by the call to 
<B><A HREF="ug_interface_init.html#Zoltan_Create">Zoltan_Create</A></B>.
In this example, all processors will be involved in load balancing, as
<B>MPI_COMM_WORLD</B> is passed as the communicator to be used by the load-balancing
routines.
<BR>&nbsp;
<CENTER><TABLE BORDER=2 COLS=1 WIDTH="90%" NOSAVE >
<TR NOSAVE>
<TD NOSAVE><A NAME="Init Example Fig"></A><TT>/* Initialize the Zoltan library
*/</TT>&nbsp;
<BR><TT>struct Zoltan_Struct *zz;</TT>&nbsp;
<BR><TT>float version;</TT>&nbsp;
<BR><TT>...</TT>&nbsp;
<BR><TT><A HREF="ug_interface_init.html#Zoltan_Initialize">Zoltan_Initialize</A>(argc,
argv, &amp;version);</TT>&nbsp;&nbsp;
<BR><TT>zz = <A HREF="ug_interface_init.html#Zoltan_Create">Zoltan_Create</A>(MPI_COMM_WORLD);</TT></TD>
</TR>

<CAPTION ALIGN=BOTTOM><I>Typical calling sequence for initialization of
the Zoltan library.</I></CAPTION>
</TABLE></CENTER>
&nbsp;

<CENTER><TABLE BORDER=2 COLS=1 WIDTH="90%" NOSAVE >
<TR NOSAVE>
<TD NOSAVE><TT>! Initialize the Zoltan library</TT>&nbsp;
<BR><TT>type(Zoltan_Struct), pointer :: zz</TT>&nbsp;
<BR><TT>real(Zoltan_FLOAT) version</TT>&nbsp;
<BR><TT>integer(Zoltan_INT) ierr</TT>&nbsp;
<BR><TT>...</TT>&nbsp;
<BR><TT>ierr = <A HREF="ug_interface_init.html#Zoltan_Initialize">Zoltan_Initialize</A>(version)
! without argc and argv</TT>&nbsp;&nbsp;
<BR><TT>zz => <A HREF="ug_interface_init.html#Zoltan_Create">Zoltan_Create</A>(MPI_COMM_WORLD)</TT></TD>
</TR>

<CAPTION ALIGN=BOTTOM><I>Fortran version of initialization
example.</I></CAPTION>
</TABLE></CENTER>
&nbsp;

<P>
<HR WIDTH="100%">[<A HREF="ug.html">Table of Contents</A>&nbsp; |&nbsp;
<A HREF="ug_examples_lb.html">Next:&nbsp; Load-Balancing Example</A>&nbsp;
|&nbsp; <A HREF="ug_examples.html">Previous:&nbsp; Examples of Library
Usage</A>]
</BODY>
</HTML>
