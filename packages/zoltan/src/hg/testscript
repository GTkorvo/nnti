#!/bin/csh
# Test C-shell script

set testname = (ibm01 ibm02 ibm03 ibm04 ibm05 ibm06 ibm07 ibm08 ibm09\
               ibm10 ibm11 ibm12 ibm13 ibm14 ibm15 ibm16 ibm17 ibm18)
set redm = (mxm rrm rem rhm grm lhm pgm gm2 rm2 gm3 gm4 mxp rep rhp grp lhp rrp pgp mxg reg rhg grg rrg)

#set greedy = (gr0 gr1 gr2 gr3 gr4 gr5 gr6 gr7 gr8)

#set testname = (avqlar baluu biomed bm1u golem3 ind2u ind3u prim1u prim2u s13207 s15850 s35932\
# s38417 s38584 s9234u struct t2u t3u t4u t5u t6u)

#set testname = (PolyDFT.hb)

#set testname = (ibm01 ibm02 ibm03 ibm04 ibm05 ibm06 ibm07 ibm08 ibm09 ibm10 ibm11 ibm12 ibm13)
#set redm = (rrm)
set greedy = (gr0)

set ext = "hg"
# set ext = "u"

rm -rf answers
mkdir answers
echo "start"
date
foreach test($testname)
   foreach method ($redm)
      foreach global ($greedy)
         echo "Running test case $test.$ext using method $method global $global"
#         ./hg_exec -f HBstuff/data/$test.$ext -redm $method -p 12 -redmo no -bal 1.016 > answers/$test-$global.$method
          ./hg_exec -f ../test/hg_test/$test.$ext -redm $method -p 4 -l grkway > answers/$test-$global.$method
#         hg_exec -f ../test/hg_test/umit/chip/$test.$ext -redm $method  >> answers/$test-$global.$method
         end
      end
   end
date

rm -f reportfile reportfile.*
#foreach test($testname)
#   foreach method ($redm)
#      foreach global ($greedy)
#         ./tools/report $test-$global.$method
#         end
#      end
#   end

grep RTHRTH answers/* > reportfile
./tools/new_report
sort +0 -1 +4n -5 reportfile.tmp > reportfile.sorted
./tools/new_evaluate

#sort +0 -1 +11n -12 +10n -11 reportfile > reportfile.sorted
echo "done"


