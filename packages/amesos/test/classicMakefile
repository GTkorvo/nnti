#=======================================================================
# class name
#=======================================================================

CLASS = AME

#=======================================================================
# Ken's debug 
#=======================================================================

SUPERLU_C = pdgssvx_ABglobal.c  
SUPERLU_C = 

TEST_C = $(SUPERLU_C) 
TEST_C =

#
#  SuperludistOO.cpp in this directory uses Epetra_LinearProblemRedistor.
#  At present this only works on single process runs.
#
SRC_CXX = 
SRC_CXX = Comm_assert_equal.cpp 
SRC_CXX = SuperludistOO.cpp Comm_assert_equal.cpp Trilinos_Util_CountTriples.cpp \
	Trilinos_Util_ReadTriples2Epetra.cpp   
SRC_CXX =  Comm_assert_equal.cpp Trilinos_Util_CountTriples.cpp \
	Trilinos_Util_ReadTriples2Epetra.cpp SpoolesOO.cpp 

#=======================================================================
# test source files
#=======================================================================


TEST_CXX = SSTest.cpp TestSolver.cpp TestMultiSolver.cpp TestMrhsSolver.cpp \
	SparseDirectTimingVars.cpp \
	SparseSolverResult.cpp $(SRC_CXX) 

TEST_F =
#=======================================================================
# TEST include files
#=======================================================================
DEBUG_INCLUDE = Comm_assert_equal.h 
TEST_INCLUDE = TestSolver.h \
	SparseDirectTimingVars.h \
	SparseSolverResult.h \
	Trilinos_Util_ReadTriples2Epetra.h \
	Trilinos_Util_CountTriples.h  \
	SpoolesOO.h \
	$(DEBUG_INCLUDE) 

TEST_INC = $(TRILINOS3PL_HOME)/SuperLU_DIST_1.0/SRC and garbage
SDT =  -DSPARSE_DIRECT_TIMINGS
include ./Makefile.template


#=======================================================================
# TEST script and matrix files
#=======================================================================
TEST_CSH = TestAmesos.csh TestAmesosJanus.csh TestAmesosSerial.csh
TEST_MATRICES = SuperLU.rua ImpcolA.rua ImpcolB.rua ImpcolC.rua ImpcolD.rua \
	ImpcolE.rua fidapm05.rua bcsstk18.rsa bcsstk24.rsa \
	Khead.triS K4989.triS K5000.triS SuperLU.triU

#=======================================================================
# Ken's debug rules for compiling C code 
#=======================================================================
.SUFFIXES : .o .c  .cc .cpp

.c.o:
	$(CC) $(CCFLAGS) -I$(TEST_INC) -c $<


tar:
	tar cf AMESOStest.tar $(TEST_CXX) $(TEST_INCLUDE) $(TEST_CSH) $(TEST_MATRICES) classicMakefile Makefile.template 
