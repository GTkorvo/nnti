#!/bin/sh -x
#====================================================================
# ------------------------
# | CVS File Information |
# ------------------------
#
# $RCSfile$
#
# $Author$
#
# $Date$
#
# $Revision$
#
# $Name$
#====================================================================

cc -o rip rip.c
for i in file_*
do
  echo $i
  rip < $i > temp; chmod +x temp; sh temp
  \rm -f temp
done

\mv y12* ../lib
\rm -f ../lib/blas1.f
\rm -f ../lib/blas2.f
\rm -f ../lib/blas3.f
\rm -f ../lib/y12cck.f
echo "      real function y12cck(i,j)" > ../lib/y12cck.f
echo "      return"  >> ../lib/y12cck.f
echo "      end"  >> ../lib/y12cck.f

cat dswap.f dscal.f drotg.f drot.f dcopy.f daxpy.f   > ../lib/blas1.f
cat idamax.f dnrm2.f dmach.f ddot.f dasum.f         >> ../lib/blas1.f
\rm -f dswap.f dscal.f drotg.f drot.f dcopy.f daxpy.f idamax.f
\rm -f dnrm2.f dmach.f ddot.f dasum.f
cat dgemm.f dsyr2k.f dsyrk.f dsymm.f dtrsm.f dtrmm.f > ../lib/blas3.f
\rm -f dgemm.f dsyr2k.f dsyrk.f dsymm.f dtrsm.f dtrmm.f
cat dgbmv.f dgemv.f dger.f  dsbmv.f dspmv.f dspr.f  dspr2.f  > ../lib/blas2.f
cat dsymv.f dsyr.f  dsyr2.f dtbmv.f dtbsv.f dtpmv.f dtpsv.f >> ../lib/blas2.f
cat dtrmv.f dtrsv.f >> ../lib/blas2.f
\rm -f dgbmv.f dgemv.f dger.f  dsbmv.f dspmv.f dspr.f  dspr2.f  
\rm -f dsymv.f dsyr.f  dsyr2.f dtbmv.f dtbsv.f dtpmv.f dtpsv.f 
\mv lsame.f ../lib
\mv xerbla.f ../lib
\rm -f dblas1.f dblas2.f dblas3.f
\rm -f blas2test.f
ls
for i in *.f
do
  \mv $i ../lib/la_$i
done

cd double
for i in *.f
do
  \mv $i ../../lib/la_$i
done
cd ..
cd util
for i in *.f
do
  \mv $i ../../lib/la_$i
done
cd ..
\rmdir double
\rmdir util

#rm -f dtrmv.f dtrsv.f
echo "all done"
echo "The files file_a, file_b, ... , file_n can be removed now!" 
