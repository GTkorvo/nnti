	   Instructions for Modifying Your Trilinos Python
		  Wrappers to Use the Teuchos Module

			      Bill Spotz
			       7/20/06

The first version of the Teuchos python module was written to support
the ParameterList class, which is used by many Trilinos packages as a
means of communicating information to and from a Trilinos objects.
This implementation provides the capability of allowing python
programmers to use python dictionaries in place of ParameterLists.
The original implementation of this, before Teuchos had its own
wrappers, did not allow sublists/nested dictionaries, nor did it
provide a mechanism for the user to retrieve parameters that have been
set by the package.  These capabilities are now supported.

These instructions assume you have created the infrastructure for your
package (or it has already been created).  If not, see

    new_package/python/Instructions.txt

Once these steps have been completed and you wish to add integration
with the Teuchos wrappers, follow these steps:

1.  In your python/src/PACKAGE.i interface file within the %{...%}
    section, add the following:

    // Teuchos includes
    #include "Teuchos_ParameterList.hpp"

    // Teuchos Python utility code
    #include "Teuchos_PythonParameter.hpp"
    #include "Teuchos_PyDictParameterList.hpp"

    If your package already supported python dictionaries as
    ParameterLists, then the first #include should already be there
    and you should delete the line

    #include "PyTeuchos_Util.h"

    as well as any %typemap directives that involve
    Teuchos::ParameterList.

2.  Also within your interface file, add

    %import "Teuchos.i"

    Most packages have a similar line for Epetra.  You can put the new
    line right before the Epetra line.

3.  Make sure python/src/Makefile.am utilizes the export Makefile
    system.  This will usually be true.  Also, add

    -I$(top_srcdir)/../teuchos/python/src \

    to the list of SWIG_CXXFLAGS.

4.  In python/src/setup.py, after the variable "include_dirs" gets
    initialized, add

    teuchosPythonSrcDir = os.path.normpath(os.path.join(top_srcdir,"..","teuchos","python","src"))
    include_dirs.append(teuchosPythonSrcDir)

5.  For the test and example scripts to find the Teuchos module,
    change the setpath.py scripts in python/example and python/test
    directories so that the "packages" list

    packages = [...]

    includes the string "teuchos".


After these changes are made, you are ready to bootstrap, configure,
make and debug the python wrappers for your package.
