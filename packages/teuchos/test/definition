#
# FRAMEWORK group
#

# Below I suppress the startup banner since
# this was getting in the way of the generation
# if the output string for the commparison
(FRAMEWORK,INSTALL) {
    TESTS = RCP/RefCountPtr_test.exe,
            RCP/ArrayRefCountPtr_test.exe;
    ARGS = --verbose --teuchos-suppress-startup-banner;
    EXIT-STATUS = STRING-COMPARISON;
    COMM = MPI(1),SERIAL;
}

# This does not work unless the C code is compiled
# to work correctly when exceptions are thrown
#(FRAMEWORK,INSTALL) {
#    TESTS = exit/Teuchos_exit_test.exe;
#    EXIT-STATUS = STRING-COMPARISON;
#    COMM = SERIAL;
#}

(FRAMEWORK) {
    TESTS = Time/Time_test.exe;
    ARGS = -v;
    EXIT-STATUS = STRING-COMPARISON;
    COMM = MPI,SERIAL;
}

(FRAMEWORK,INSTALL,XML) {
    TESTS = ../example/XML/XmlToParameterList.exe;
    ARGS = --xml-in-file=../example/XML/Example1.xml,
           --xml-in-file=../example/XML/Example1.xml --extra-xml="<ParameterList><ParameterList name=\"Direction\"><ParameterList name=\"Newton\"><ParameterList name=\"Linear Solver\"><Parameter name=\"Tol\" type=\"double\" value=\"1e-2\"/></ParameterList></ParameterList></ParameterList></ParameterList>",
           --extra-xml="<ParameterList/>";
    EXIT-STATUS = STRING-COMPARISON;
    COMM = MPI(1),SERIAL;
}

(FRAMEWORK,INSTALL,XML) {
    TESTS = ../example/XML/XmlToParameterList.exe;
    ARGS = --xml-in-file=../example/XML/Example2.xml,
           --extra-xml=" ";
    EXIT-STATUS = STRING-COMPARISON(EmptyXMLError);
    COMM = MPI(1),SERIAL;
}

# Note that above the last two test cases fail due to empty lists!

(FRAMEWORK,INSTALL) {
    TESTS = RCP/RefCountPtr_test.exe,
            Workspace/workspace_test.exe,
            dyn_cast/dyn_cast_test.exe;
    ARGS = --verbose;
    COMM = SERIAL;
}

(FRAMEWORK) {
    TESTS = BLAS/BLAS_test.exe,
    ARGS = -v;
    X-HOST = paunchy;
    EXIT-STATUS = STRING-COMPARISON;
    COMM = SERIAL;
}

(FRAMEWORK,INSTALL) {
    TESTS = LAPACK/LAPACK_test.exe,
            DenseMatrix/DenseMatrix_test.exe;
    ARGS = -v;
    EXIT-STATUS = STRING-COMPARISON;
    COMM = SERIAL;
}

(FRAMEWORK,INSTALL) {
    TESTS = ParameterList/ParameterList_test.exe;
    ARGS = --verbose;
    EXIT-STATUS = STRING-COMPARISON;
    COMM = MPI,SERIAL;
}

(FRAMEWORK,INSTALL) {
    TESTS = FancyOutputting/FancyOutputting_test.exe;
    EXIT-STATUS = STRING-COMPARISON;
    COMM = MPI,SERIAL;
}

(FRAMEWORK,INSTALL) {
    TESTS = Comm/Comm_test.exe;
    ARGS = --teuchos-suppress-startup-banner;
    EXIT-STATUS = STRING-COMPARISON;
    COMM = MPI(1-10),SERIAL;
}
