IFPACK_SOURCE_DIRECTORY = @abs_srcdir@
IFPACK_BUILD_DIRECTORY = @abs_builddir@

TEUCHOS_BUILD_DIRECTORY = $(IFPACK_BUILD_DIRECTORY)/../teuchos
EPETRAEXT_BUILD_DIRECTORY = $(IFPACK_BUILD_DIRECTORY)/../epetraext
AZTECOO_BUILD_DIRECTORY = $(IFPACK_BUILD_DIRECTORY)/../aztecoo
AMESOS_BUILD_DIRECTORY = $(IFPACK_BUILD_DIRECTORY)/../amesos
TRIUTILS_BUILD_DIRECTORY = $(IFPACK_BUILD_DIRECTORY)/../triutils

@HAVE_IFPACK_AZTECOO_TRUE@AZTECOO_LIBS = -L$(AZTECOO_BUILD_DIRECTORY)/src -laztecoo
@HAVE_IFPACK_AMESOS_TRUE@AMESOS_LIBS = -L$(AMESOS_BUILD_DIRECTORY)/src -lamesos
@HAVE_IFPACK_EPETRAEXT_TRUE@EPETRAEXT_LIBS = -L$(EPETRAEXT_BUILD_DIRECTORY)/src -lepetraext
@HAVE_IFPACK_IFPACK_TRUE@IFPACK_LIBS = -L$(IFPACK_BUILD_DIRECTORY)/src -lifpack
@HAVE_IFPACK_TEUCHOS_TRUE@TEUCHOS_LIBS = -L$(TEUCHOS_BUILD_DIRECTORY)/src -lteuchos
@HAVE_IFPACK_TRIUTILS_TRUE@TRIUTILS_LIBS = -L$(TRIUTILS_BUILD_DIRECTORY)/src -ltriutils

@HAVE_IFPACK_AZTECOO_TRUE@AZTECOO_INCLUDES = -I$(IFPACK_SOURCE_DIRECTORY)/../aztecoo/src -I$(AZTECOO_BUILD_DIRECTORY)/src
@HAVE_IFPACK_AMESOS_TRUE@AMESOS_INCLUDES = -I$(IFPACK_SOURCE_DIRECTORY)/../amesos/src -I$(AMESOS_BUILD_DIRECTORY)/src
@HAVE_IFPACK_EPETRAEXT_TRUE@EPETRAEXT_INCLUDES = -I$(IFPACK_SOURCE_DIRECTORY)/../epetraext/src -I$(IFPACK_SOURCE_DIRECTORY)/../epetraext/src/coloring -I$(IFPACK_SOURCE_DIRECTORY)/../epetraext/src/transform  -I$(EPETRAEXT_BUILD_DIRECTORY)/src
@HAVE_IFPACK_IFPACK_TRUE@IFPACK_INCLUDES = -I$(IFPACK_SOURCE_DIRECTORY)/../ifpack/src -I$(IFPACK_BUILD_DIRECTORY)/src
@HAVE_IFPACK_TRIUTILS_TRUE@TRIUTILS_INCLUDES = -I$(IFPACK_SOURCE_DIRECTORY)/../triutils/src -I$(TRIUTILS_BUILD_DIRECTORY)/src
@HAVE_IFPACK_TEUCHOS_TRUE@TEUCHOS_INCLUDES = -I$(IFPACK_SOURCE_DIRECTORY)/../teuchos/src -I$(TEUCHOS_BUILD_DIRECTORY)/src

# ---------------------------------------------------------------- #
# Definition of libraries and include files to compile the library #
# ---------------------------------------------------------------- #

IFPACK_LIBS = -L$(IFPACK_BUILD_DIRECTORY)/src -lifpack \
                    $(AMESOS_LIBS) \
                    $(AZTECOO_LIBS) \
                    $(TEUCHOS_LIBS) \
                    $(EPETRAEXT_LIBS) \
		  -L$(IFPACK_BUILD_DIRECTORY)/../epetra/src -lepetra

IFPACK_INCLUDES = -I$(IFPACK_SOURCE_DIRECTORY)/src/ \
		  -I$(IFPACK_BUILD_DIRECTORY)/src \
		  -I$(IFPACK_SOURCE_DIRECTORY)/../epetra/src \
		  -I$(IFPACK_BUILD_DIRECTORY)/../epetra/src \
                  $(AZTECOO_INCLUDES)  \
                  $(AMESOS_INCLUDES)  \
                  $(TEUCHOS_INCLUDES)  \
                  $(EPETRAEXT_INCLUDES) 

# Additional include files and libraries that might be needed for the
# examples and tests

IFPACK_EXTRA_INCLUDES = $(TRIUTILS_INCLUDES)
IFPACK_EXTRA_LIBS     = $(TRIUTILS_LIBS)
