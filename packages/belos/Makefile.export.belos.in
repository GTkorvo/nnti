# Required dependence on epetra, triutils, and teuchos
include @abs_top_builddir@/../epetra/Makefile.export.epetra
include @abs_top_builddir@/../triutils/Makefile.export.triutils
include @abs_top_builddir@/../teuchos/Makefile.export.teuchos

# Optional dependence on ifpack and tsfcore
@BUILD_IFPACK_TRUE@include @abs_top_builddir@/../ifpack/Makefile.export.ifpack
# TSFCore doesn't have new makefile export support so we ignore this for now.
##@BUILD_TSFCORE_EPETRA_TRUE@include @abs_top_builddir@/../tsfcore/Makefile.export.tsfcore

_BELOS_INCLUDES = \
	-I@abs_top_srcdir@/src \
	-I@abs_top_builddir@/src \
	$(TEUCHOS_INCLUDES) \
        $(EPETRA_INCLUDES) \
        $(TRIUTILS_INCLUDES) \
	$(IFPACK_INCLUDES)

_BELOS_LIBS = @LDFLAGS@ -L@abs_top_builddir@/src -lbelos $(TEUCHOS_LIBS) $(EPETRA_LIBS) $(TRIUTILS_LIBS) $(IFPACK_LIBS) @LAPACK_LIBS@ @BLAS_LIBS@ @LIBS@ @FLIBS@ 

@USING_GNUMAKE_TRUE@BELOS_INCLUDES  = $(shell $(PERL_EXE) $(top_srcdir)/config/strip_dup_incl_paths.pl $(_BELOS_INCLUDES))
@USING_GNUMAKE_TRUE@BELOS_LIBS      = $(shell $(PERL_EXE) $(top_srcdir)/config/strip_dup_libs.pl $(_BELOS_LIBS))
@USING_GNUMAKE_FALSE@BELOS_INCLUDES = $(_BELOS_INCLUDES)
@USING_GNUMAKE_FALSE@BELOS_LIBS     = $(_BELOS_LIBS)
