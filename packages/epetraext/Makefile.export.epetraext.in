## Required Dependency on Epetra
include @abs_top_builddir@/../epetra/Makefile.export.epetra

## Optional dependency on triutils
@BUILD_TRIUTILS_TRUE@include @abs_top_builddir@/../triutils/Makefile.export.triutils

## Optional dependency on thyra
@ENABLE_EPETRAEXT_THYRA_TRUE@include @abs_top_builddir@/../thyra/Makefile.export.thyra
@ENABLE_EPETRAEXT_THYRA_TRUE@EPETRAEXT_THYRA_INCLUDES = \
@ENABLE_EPETRAEXT_THYRA_TRUE@	-I@abs_top_srcdir@/thyra/src \
@ENABLE_EPETRAEXT_THYRA_TRUE@	-I@abs_top_srcdir@/thyra/src/model_evaluator \
@ENABLE_EPETRAEXT_THYRA_TRUE@	-I@abs_top_builddir@/thyra/src \
@ENABLE_EPETRAEXT_THYRA_TRUE@	$(THYRA_INCLUDES)
@ENABLE_EPETRAEXT_THYRA_TRUE@EPETRAEXT_THYRA_LIBS = -L@abs_top_builddir@/thyra/src -lepetraextthyra $(THYRA_LIBS)

_EPETRAEXT_INCLUDES = -I@abs_top_builddir@/src -I@abs_top_srcdir@/src \
                     -I@abs_top_srcdir@/src/block \
                     -I@abs_top_srcdir@/src/btf \
                     -I@abs_top_srcdir@/src/coloring \
                     -I@abs_top_srcdir@/src/distdir \
                     -I@abs_top_srcdir@/src/inout \
                     -I@abs_top_srcdir@/src/matlab \
                     -I@abs_top_srcdir@/src/model_evaluator \
                     -I@abs_top_srcdir@/src/transform \
                     -I@abs_top_srcdir@/src/zoltan \
                     $(EPETRAEXT_THYRA_INCLUDES) \
                     $(EPETRA_INCLUDES) \
                     $(TRIUTILS_INCLUDES)

_EPETRAEXT_LIBS = \
  @LDFLAGS@ -L@abs_top_builddir@/src $(EPETRAEXT_THYRA_LIBS) -lepetraext \
  $(EPETRA_LIBS) $(TRIUTILS_LIBS) @LIBS@ @LAPACK_LIBS@ @BLAS_LIBS@ @FLIBS@

@USING_GNUMAKE_TRUE@EPETRAEXT_INCLUDES  = $(shell @PERL_EXE@ @abs_top_srcdir@/config/strip_dup_incl_paths.pl $(_EPETRAEXT_INCLUDES))
@USING_GNUMAKE_TRUE@EPETRAEXT_LIBS      = $(shell @PERL_EXE@ @abs_top_srcdir@/config/strip_dup_libs.pl $(_EPETRAEXT_LIBS))
@USING_GNUMAKE_FALSE@EPETRAEXT_INCLUDES = $(_EPETRAEXT_INCLUDES)
@USING_GNUMAKE_FALSE@EPETRAEXT_LIBS     = $(_EPETRAEXT_LIBS)
