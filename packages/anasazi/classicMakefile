CC = cc
CXX = c++
CXXFLAGS = -g -O2

TRILINOS_HOME = /home/hkthorn/Trilinos
PETRA_HOME = $(TRILINOS_HOME)/packages/epetra

PETRA_LIB = $(TRILINOS_HOME)/SERIAL_GNU/packages/epetra/src/libepetra.a
LAPACK_LIBS = -llapack
BLAS_LIBS = -lblas
LIBS = -lg2c -lm
HEADERS = -I$(PETRA_HOME)/src

.cpp.o:
	$(CXX) $(CXXFLAGS) -c $< -I. $(HEADERS)

BlockArnoldiPetraEx: BlockArnoldiPetraEx.o AnasaziLAPACK.o AnasaziBLAS.o
	$(CXX) -o $@ $^ -I $(HEADERS) $(PETRA_LIB) $(LAPACK_LIBS) $(BLAS_LIBS) $(LIBS)

BlockArnoldiPetraEx.o : BlockArnoldiPetraEx.cpp 
AnasaziLAPACK.o : AnasaziLAPACK.cpp
AnasaziBLAS.o : AnasaziBLAS.cpp

clean:
	rm -f *.o *.stackdump core
